# [0032. æ•°ç»„ç±»å‹](https://github.com/tnotesjs/TNotes.typescript/tree/main/notes/0032.%20%E6%95%B0%E7%BB%84%E7%B1%BB%E5%9E%8B)

<!-- region:toc -->

- [1. ğŸ¯ æœ¬èŠ‚å†…å®¹](#1--æœ¬èŠ‚å†…å®¹)
- [2. ğŸ«§ è¯„ä»·](#2--è¯„ä»·)
- [3. ğŸ¤” JavaScript æ•°ç»„åœ¨ TypeScript ä¸­åˆ†ä¸ºå“ªä¸¤ç§ç±»å‹ï¼Ÿ](#3--javascript-æ•°ç»„åœ¨-typescript-ä¸­åˆ†ä¸ºå“ªä¸¤ç§ç±»å‹)
- [4. ğŸ¤” TypeScript æ•°ç»„ç±»å‹æœ‰å“ªå‡ ç§å†™æ³•ï¼Ÿ](#4--typescript-æ•°ç»„ç±»å‹æœ‰å“ªå‡ ç§å†™æ³•)
- [5. ğŸ¤” æ•°ç»„æˆå‘˜ç±»å‹å¯ä»¥æ˜¯è”åˆç±»å‹å—ï¼Ÿ](#5--æ•°ç»„æˆå‘˜ç±»å‹å¯ä»¥æ˜¯è”åˆç±»å‹å—)
- [6. ğŸ¤” æ•°ç»„æˆå‘˜å¯ä»¥æ˜¯ä»»æ„ç±»å‹å—ï¼Ÿ](#6--æ•°ç»„æˆå‘˜å¯ä»¥æ˜¯ä»»æ„ç±»å‹å—)
- [7. ğŸ¤” æ•°ç»„å£°æ˜åæˆå‘˜æ•°é‡æœ‰é™åˆ¶å—ï¼Ÿ](#7--æ•°ç»„å£°æ˜åæˆå‘˜æ•°é‡æœ‰é™åˆ¶å—)
- [8. ğŸ¤” å¦‚ä½•è¯»å–æ•°ç»„æˆå‘˜çš„ç±»å‹ï¼Ÿ](#8--å¦‚ä½•è¯»å–æ•°ç»„æˆå‘˜çš„ç±»å‹)
- [9. ğŸ¤” TypeScript å¦‚ä½•æ¨æ–­ç©ºæ•°ç»„çš„ç±»å‹ï¼Ÿ](#9--typescript-å¦‚ä½•æ¨æ–­ç©ºæ•°ç»„çš„ç±»å‹)
- [10. ğŸ¤” TypeScript å¦‚ä½•æ¨æ–­éç©ºæ•°ç»„çš„ç±»å‹ï¼Ÿ](#10--typescript-å¦‚ä½•æ¨æ–­éç©ºæ•°ç»„çš„ç±»å‹)
- [11. ğŸ¤” å¦‚ä½•å£°æ˜åªè¯»æ•°ç»„ï¼Ÿ](#11--å¦‚ä½•å£°æ˜åªè¯»æ•°ç»„)
- [12. ğŸ¤” åªè¯»æ•°ç»„æœ‰å“ªäº›é™åˆ¶ï¼Ÿ](#12--åªè¯»æ•°ç»„æœ‰å“ªäº›é™åˆ¶)
- [13. ğŸ¤” åªè¯»æ•°ç»„å’Œæ™®é€šæ•°ç»„æœ‰ä»€ä¹ˆå…³ç³»ï¼Ÿ](#13--åªè¯»æ•°ç»„å’Œæ™®é€šæ•°ç»„æœ‰ä»€ä¹ˆå…³ç³»)
- [14. ğŸ¤” ä¸ºä»€ä¹ˆåªè¯»æ•°ç»„ä¸èƒ½ä½œä¸ºæ™®é€šæ•°ç»„å‚æ•°ä¼ é€’ï¼Ÿ](#14--ä¸ºä»€ä¹ˆåªè¯»æ•°ç»„ä¸èƒ½ä½œä¸ºæ™®é€šæ•°ç»„å‚æ•°ä¼ é€’)
- [15. ğŸ¤” å¦‚ä½•å£°æ˜å¤šç»´æ•°ç»„ï¼Ÿ](#15--å¦‚ä½•å£°æ˜å¤šç»´æ•°ç»„)

<!-- endregion:toc -->

## 1. ğŸ¯ æœ¬èŠ‚å†…å®¹

- æ•°ç»„ï¼ˆarrayï¼‰
- åªè¯»æ•°ç»„ï¼ˆread-only arrayï¼‰
  - readonly ä¿®é¥°ç¬¦
  - ReadonlyArray æ³›å‹å·¥å…·
  - Readonly æ³›å‹å·¥å…·
  - as const æ–­è¨€
- åªè¯»æ•°ç»„å’Œæ™®é€šæ•°ç»„çš„å…³ç³»
- å¤šç»´æ•°ç»„
- å…ƒç»„ï¼ˆtupleï¼‰

## 2. ğŸ«§ è¯„ä»·

- åœ¨ JS ä¸­ï¼Œç»™ä½ ä¸€ä¸ªåˆ—è¡¨ `[ ... ]`ï¼Œå®ƒçš„ç±»å‹å°±æ˜¯ arrayã€‚
- åœ¨ TS ä¸­ï¼Œå¯¹æ•°ç»„è¿›è¡Œäº†ç»†åˆ†ï¼š
  - ç±»å‹ç»Ÿä¸€ä¸”é•¿åº¦ä¸å®šçš„åˆ—è¡¨ï¼Œå«æ•°ç»„ï¼ˆarrayï¼‰
  - ç±»å‹ä¸å®šä¸”æ•°é‡å›ºå®šçš„åˆ—è¡¨ï¼Œå«å…ƒç»„ï¼ˆtupleï¼‰
- æœ¬èŠ‚ä¸»è¦ä»‹ç» TS ä¸­çš„ array ç±»å‹ã€‚

## 3. ğŸ¤” JavaScript æ•°ç»„åœ¨ TypeScript ä¸­åˆ†ä¸ºå“ªä¸¤ç§ç±»å‹ï¼Ÿ

JavaScript æ•°ç»„åœ¨ TypeScript ä¸­åˆ†ä¸ºä¸¤ç§ç±»å‹ï¼šæ•°ç»„ï¼ˆarrayï¼‰å’Œå…ƒç»„ï¼ˆtupleï¼‰ã€‚

- arrayï¼šç»„è¦æ±‚æ‰€æœ‰æˆå‘˜ç±»å‹ç›¸åŒä½†æ•°é‡ä¸ç¡®å®š
  - åŒç±»å‹ï¼š
    - âŒ é”™è¯¯ç†è§£ï¼šæ•°ç»„æ‰€æœ‰æˆå‘˜çš„ç±»å‹å¿…é¡»ç›¸åŒ
    - âœ… æ­£ç¡®ç†è§£ï¼šæ•°ç»„æ‰€æœ‰æˆå‘˜çš„ç±»å‹åªå†™ä¸€æ¬¡ï¼Œæ¯”å¦‚ `any []` ç±»å‹çš„æ•°ç»„ï¼Œè¡¨ç¤ºæ•°ç»„æ¯ä¸€é¡¹éƒ½æ˜¯ `any` ç±»å‹ï¼Œ`number []` è¡¨ç¤ºæ•°ç»„æ¯ä¸€é¡¹éƒ½æ˜¯ `number` ç±»å‹ã€‚
  - é•¿åº¦ä¸å®šï¼šæ•°ç»„å¯ä»¥æœ‰æ— é™æ•°é‡çš„æˆå‘˜ï¼Œä¹Ÿå¯ä»¥æ˜¯é›¶æˆå‘˜ï¼ˆç©ºæ•°ç»„ï¼‰
- tupleï¼šå…è®¸æˆå‘˜ç±»å‹å¯ä»¥ä¸åŒä½†æ•°é‡å›ºå®š
  - å¤šç±»å‹ï¼šæ¯ä¸€ä¸ªæˆå‘˜çš„ç±»å‹éƒ½å¯ä»¥è‡ªè¡Œé…ç½®ï¼Œå…è®¸ä¸åŒ
  - é•¿åº¦å›ºå®šï¼šéœ€è¦å°†æ¯ä¸ªæˆå‘˜éƒ½åˆ—å‡ºæ¥

## 4. ğŸ¤” TypeScript æ•°ç»„ç±»å‹æœ‰å“ªå‡ ç§å†™æ³•ï¼Ÿ

TypeScript æ•°ç»„ç±»å‹çš„å†™æ³•æœ‰å¾ˆå¤šï¼Œä¸‹é¢ä¸¤ç§å†™æ³•æ˜¯æ¯”è¾ƒå¸¸è§çš„ï¼š

1. åœ¨æ•°ç»„æˆå‘˜ç±»å‹ååŠ æ–¹æ‹¬å·ï¼š`number[]`
2. ä½¿ç”¨ TypeScript å†…ç½®çš„ Array æ¥å£ï¼š`Array<number>`

```ts
// å†™æ³•ä¸€ï¼šæ–¹æ‹¬å·è¯­æ³•
let arr1: number[] = [1, 2, 3]

// å†™æ³•äºŒï¼šArray æ¥å£è¯­æ³•
let arr2: Array<number> = [1, 2, 3]
```

## 5. ğŸ¤” æ•°ç»„æˆå‘˜ç±»å‹å¯ä»¥æ˜¯è”åˆç±»å‹å—ï¼Ÿ

- å¯ä»¥ï¼Œä½†è¦æ³¨æ„ -> åˆ«å¿˜è®°ç»™è”åˆç±»å‹åŠ ä¸Šæ‹¬å·ï¼
- å½“æ•°ç»„æˆå‘˜ç±»å‹æ˜¯è”åˆç±»å‹æ—¶ï¼Œéœ€è¦ä½¿ç”¨æ‹¬å·æ¥æ˜ç¡®è¿ç®—ä¼˜å…ˆçº§ã€‚
  - `let arr1: number | string[]` âŒ
  - `let arr2: (number | string)[]` âœ…
  - å› ä¸ºç«–æ  `|` çš„ä¼˜å…ˆçº§ä½äº `[]`ï¼Œæ‰€ä»¥ `number|string[]` ä¼šè¢«ç†è§£æˆ `number` å’Œ `string[]` çš„è”åˆç±»å‹ï¼Œè€Œä¸æ˜¯æ•°ç»„æˆå‘˜ç±»å‹ä¸º `number|string` çš„æ•°ç»„ã€‚

```ts
// é”™è¯¯å†™æ³•ï¼šä¼šè¢«ç†è§£ä¸º number å’Œ string[] çš„è”åˆç±»å‹
let arr1: number | string[] = [1, 'a'] // ç±»å‹é”™è¯¯

// æ­£ç¡®å†™æ³•ï¼šä½¿ç”¨æ‹¬å·æ˜ç¡®ä¼˜å…ˆçº§
let arr2: (number | string)[] = [1, 'a'] // æ­£ç¡®

// åŒæ ·é€‚ç”¨äº Array æ¥å£å†™æ³•
let arr3: Array<number | string> = [1, 'a']
```

## 6. ğŸ¤” æ•°ç»„æˆå‘˜å¯ä»¥æ˜¯ä»»æ„ç±»å‹å—ï¼Ÿ

- å¯ä»¥ï¼Œä½†ä¸æ¨èä½¿ç”¨ã€‚
- å¯ä»¥ä½¿ç”¨ `any[]` è¡¨ç¤ºæ•°ç»„æˆå‘˜å¯ä»¥æ˜¯ä»»æ„ç±»å‹ï¼Œä½†è¿™ç§å†™æ³•åº”è¯¥é¿å…ä½¿ç”¨ï¼Œå› ä¸ºå®ƒå¤±å»äº†ç±»å‹æ£€æŸ¥çš„æ„ä¹‰ã€‚
- æ¨èä½¿ç”¨è”åˆç±»å‹ï¼Œæ¯”å¦‚ `(number | string | boolean | object)[]`ï¼Œè¿™æ ·å°±å¯ä»¥åœ¨ä¸€å®šç¨‹åº¦ä¸Šé™åˆ¶æ•°ç»„æˆå‘˜çš„ç±»å‹ï¼Œæ›´åŠ å®‰å…¨ä¸€äº›ã€‚

```ts
// ä¸æ¨èçš„å†™æ³•
let arr: any[] = [1, 'hello', true, { name: 'Tom' }]

// æ¨èçš„å†™æ³•ï¼šä½¿ç”¨è”åˆç±»å‹
let arr2: (number | string | boolean | object)[] = [
  1,
  'hello',
  true,
  { name: 'Tom' },
]
```

## 7. ğŸ¤” æ•°ç»„å£°æ˜åæˆå‘˜æ•°é‡æœ‰é™åˆ¶å—ï¼Ÿ

- æ•°ç»„ç±»å‹å£°æ˜åï¼Œæˆå‘˜æ•°é‡æ˜¯ä¸é™åˆ¶çš„ï¼Œå¯ä»¥æ˜¯ä»»æ„æ•°é‡çš„æˆå‘˜ï¼ŒåŒ…æ‹¬ç©ºæ•°ç»„ã€‚æ•°ç»„æˆå‘˜å¯ä»¥åŠ¨æ€å˜åŒ–ã€‚
- è¶Šç•Œè®¿é—®ä¸ä¼šè­¦å‘Šé”™è¯¯ï¼ˆå…¼å®¹ JavaScript çš„è¡Œä¸ºï¼‰ã€‚

```ts
let arr: number[]
arr = [] // ç©ºæ•°ç»„
arr = [1] // ä¸€ä¸ªæˆå‘˜
arr = [1, 2] // ä¸¤ä¸ªæˆå‘˜
arr = [1, 2, 3] // ä¸‰ä¸ªæˆå‘˜
// éƒ½æ˜¯æ­£ç¡®çš„

// æ•°ç»„æˆå‘˜å¯ä»¥åŠ¨æ€å˜åŒ–
let arr2: number[] = [1, 2, 3]
arr2[3] = 4 // å¢åŠ æˆå‘˜
arr2.length = 2 // å‡å°‘æˆå‘˜

// è¶Šç•Œè®¿é—®ä¸ä¼šè­¦å‘Šé”™è¯¯
arr2[999] // ok
```

## 8. ğŸ¤” å¦‚ä½•è¯»å–æ•°ç»„æˆå‘˜çš„ç±»å‹ï¼Ÿ

- TypeScript å…è®¸ä½¿ç”¨æ–¹æ‹¬å· `[]` è¯»å–æ•°ç»„æˆå‘˜çš„ç±»å‹ï¼Œæœ‰ä¸¤ç§æ–¹å¼ï¼š

```ts
type Names = string[]

// æ–¹å¼ä¸€ï¼šé€šè¿‡å…·ä½“ç´¢å¼•è¯»å–ç±»å‹
type Name = Names[0] // string

// æ–¹å¼äºŒï¼šé€šè¿‡ number ç±»å‹è¯»å–æ‰€æœ‰æˆå‘˜çš„è”åˆç±»å‹
type AllNames = Names[number] // string

// æ›´å¤æ‚çš„ç¤ºä¾‹
type MixedArray = (string | number)[]
type MixedType = MixedArray[number] // string|number
type FirstType = MixedArray[0] // string|number
```

## 9. ğŸ¤” TypeScript å¦‚ä½•æ¨æ–­ç©ºæ•°ç»„çš„ç±»å‹ï¼Ÿ

::: warning âš ï¸ æ³¨æ„ï¼šIDE è¯¯æ¨æ–­

- ä¸‹é¢ç¤ºä¾‹ä¸­çš„ TS IDE ç±»å‹æ¨æ–­æœ‰äº›æ˜¯é”™è¯¯çš„ï¼›
- è¯¦ç»†è¯´æ˜è®°å½•åœ¨äº† `0007. åŠ¨æ€ç±»å‹ vs. é™æ€ç±»å‹` ä¸­çš„ `demos.3` ç¤ºä¾‹ä¸­ï¼›

:::

- åœ¨é»˜è®¤é…ç½®ä¸‹ï¼Œå¦‚æœæ•°ç»„å˜é‡çš„åˆå§‹å€¼æ˜¯ç©ºæ•°ç»„ï¼ŒTypeScript ä¼šæ¨æ–­æ•°ç»„ç±»å‹æ˜¯ `any[]`ã€‚

```ts
// åˆå§‹ä¸ºç©ºæ•°ç»„ï¼Œæ¨æ–­ä¸º any[]
const arr = []
// arr çš„ç±»å‹ä¸º any[] - arr çš„ç±»å‹ç¡®å®šåå°†ä¸å†æ”¹å˜

arr.push(123)
// arr çš„ç±»å‹æ›´æ–°ä¸º number[] - è¿™æ˜¯ IDE çš„é”™è¯¯æ¨æ–­

console.log(arr) // [123]

arr.push('abc')
// arr çš„ç±»å‹æ›´æ–°ä¸º (string|number)[] - è¿™æ˜¯ IDE çš„é”™è¯¯æ¨æ–­

console.log(arr) // [123, 'abc']
```

- å¦‚æœå…³é—­ `noImplicitAny` é…ç½®å¹¶å¼€å¯ `strictNullChecks` é…ç½®ï¼Œé‚£ä¹ˆç©ºæ•°ç»„å°†è¢«æ¨æ–­ä¸º `never[]`ã€‚
  - è¿™æ„å‘³ç€è¿™å°±æ˜¯ä¸€ä¸ªç©ºæ•°ç»„ï¼Œå¹¶ä¸”æ¯ä¸€ä¸ªæˆå‘˜éƒ½æ˜¯ `never` ç©ºé›†ã€‚
  - åªæœ‰ `never` ç±»å‹æ‰èƒ½èµ‹å€¼ç»™ `never` ç±»å‹ï¼Œå…¶å®ƒä»»ä½•ç±»å‹éƒ½ä¸ `never` ä¸å…¼å®¹ã€‚

::: tip ğŸ’¡ æç¤ºï¼šå¼€å‘å»ºè®®

- ä¸åº”è¯¥ï¼šè®°è¿™äº›ç»†èŠ‚ã€‚
- ä¸åº”è¯¥ï¼šäº¤ç»™ TS æ¥æ¨æ–­ç©ºæ•°ç»„çš„ç±»å‹ã€‚
- åº”è¯¥ï¼šå¦‚æœä½ è¦å®šä¹‰ä¸€ä¸ªæ•°ç»„ï¼Œæœ€å¥½åœ¨å®šä¹‰çš„æ—¶å€™å°±æ˜ç¡®æˆå‘˜çš„ç±»å‹ï¼Œä¸è¦äº¤ç»™ TS æ¥æ¨æ–­ç±»å‹ã€‚å¦‚æœä½ å°±è¦å®šä¹‰ä¸€ä¸ªå¯ä»¥å®¹çº³ä»»ä½•ç±»å‹çš„æ•°ç»„ï¼Œå¯ä»¥æ˜¾ç¤ºåœ°å†™æˆ `const arr: any[] = []`ã€‚

:::

## 10. ğŸ¤” TypeScript å¦‚ä½•æ¨æ–­éç©ºæ•°ç»„çš„ç±»å‹ï¼Ÿ

å¦‚æœæ•°ç»„å˜é‡çš„åˆå§‹å€¼ä¸æ˜¯ç©ºæ•°ç»„ï¼ŒTypeScript ä¼šæ ¹æ®åˆå§‹å€¼ç¡®å®šç±»å‹ã€‚

```ts
const arr = [123]
// arr æ ¹æ®åˆå§‹å€¼è¢« TS æ¨æ–­ä¸º number[]

arr.push(456) // æ­£ç¡®
// arr.push('abc') // æŠ¥é”™ï¼šç±»å‹ä¸åŒ¹é…

// å¦‚æœéœ€è¦å¤šç§ç±»å‹ï¼Œåº”åœ¨å£°æ˜æ—¶æ˜ç¡®æŒ‡å®š
const arr2: (number | string)[] = [123]
arr2.push('abc') // æ­£ç¡®

const arr3 = [123, '123']
// arr3 æ ¹æ®åˆå§‹å€¼è¢« TS æ¨æ–­ä¸º (string | number)[]

const arr4 = [123, '123', false, 456, true]
// arr4 æ ¹æ®åˆå§‹å€¼è¢« TS æ¨æ–­ä¸º (string | number | boolean)[]
```

## 11. ğŸ¤” å¦‚ä½•å£°æ˜åªè¯»æ•°ç»„ï¼Ÿ

æœ‰å¤šç§æ–¹å¼å¯ä»¥å£°æ˜åªè¯»æ•°ç»„ï¼š

```ts
// æ–¹å¼ä¸€ï¼šä½¿ç”¨ readonly å…³é”®å­—
const arr1: readonly number[] = [0, 1]

// æ–¹å¼äºŒï¼šä½¿ç”¨ ReadonlyArray æ³›å‹
const arr2: ReadonlyArray<number> = [0, 1]

// æ–¹å¼ä¸‰ï¼šä½¿ç”¨ Readonly å·¥å…·ç±»å‹
const arr3: Readonly<number[]> = [0, 1]

// æ–¹å¼å››ï¼šä½¿ç”¨ const æ–­è¨€
const arr4 = [0, 1] as const
```

`readonly` å…³é”®å­—ä¸èƒ½ä¸æ•°ç»„çš„æ³›å‹å†™æ³•ä¸€èµ·ä½¿ç”¨ï¼š

```ts
// âŒ æŠ¥é”™ï¼šreadonly ä¸èƒ½ä¸ Array<number> ä¸€èµ·ä½¿ç”¨
// const arr:readonly Array<number> = [0, 1];
// 'readonly' type modifier is only permitted on array and tuple literal types.(1354)

// æ­£ç¡®çš„å†™æ³•
const arr1: readonly number[] = [0, 1]
const arr2: ReadonlyArray<number> = [0, 1]
const arr3: Readonly<number[]> = [0, 1]
```

ä½¿ç”¨ `ReadonlyArray<T>` å’Œ `Readonly<T[]>` ç”Ÿæˆåªè¯»æ•°ç»„ä¹‹é—´çš„åŒºåˆ«ï¼šä¸¤è€…éƒ½å¯ä»¥ç”Ÿæˆåªè¯»æ•°ç»„ç±»å‹ï¼Œä½†è¯­æ³•ä¸åŒ

```ts
// ReadonlyArray<T>ï¼šå°–æ‹¬å·å†…æ˜¯æ•°ç»„æˆå‘˜ç±»å‹
const arr1: ReadonlyArray<number> = [0, 1]

// Readonly<T[]>ï¼šå°–æ‹¬å·å†…æ˜¯æ•´ä¸ªæ•°ç»„ç±»å‹
const arr2: Readonly<number[]> = [0, 1]

// ä¸¤è€…æ•ˆæœç›¸åŒï¼Œåªæ˜¯è¯­æ³•ä¸åŒ
```

ä½¿ç”¨ `as const` å¯ä»¥åˆ›å»ºåªè¯»æ•°ç»„ï¼Œå¹¶ä¸” TypeScript ä¼šæ¨æ–­ä¸ºå…·ä½“çš„åªè¯»å…ƒç»„ç±»å‹ï¼š

```ts
const arr = [0, 1] as const
// ç±»å‹è¢«æ¨æ–­ä¸º readonly [0, 1]

arr[0] = 2 // æŠ¥é”™ï¼šä¸èƒ½ä¿®æ”¹åªè¯»æ•°ç»„æˆå‘˜

// æ›´å¤æ‚çš„ç¤ºä¾‹
const complex = [1, 'hello', true] as const
// ç±»å‹è¢«æ¨æ–­ä¸º readonly [1, "hello", true]
```

## 12. ğŸ¤” åªè¯»æ•°ç»„æœ‰å“ªäº›é™åˆ¶ï¼Ÿ

åªè¯»æ•°ç»„ä¸å…è®¸ä¿®æ”¹ã€æ–°å¢æˆ–åˆ é™¤æˆå‘˜ï¼š

```ts
const arr: readonly number[] = [0, 1]

arr[1] = 2 // âŒ æŠ¥é”™ï¼šä¸èƒ½ä¿®æ”¹
arr.push(3) // âŒ æŠ¥é”™ï¼šä¸èƒ½æ·»åŠ 
arr.pop() // âŒ æŠ¥é”™ï¼šä¸èƒ½åˆ é™¤
delete arr[0] // âŒ æŠ¥é”™ï¼šä¸èƒ½åˆ é™¤
```

## 13. ğŸ¤” åªè¯»æ•°ç»„å’Œæ™®é€šæ•°ç»„æœ‰ä»€ä¹ˆå…³ç³»ï¼Ÿ

`readonly number[]` æ˜¯ `number[]` çš„çˆ¶ç±»å‹ã€‚

- å¯ä»¥ä»çº¦æŸå¼ºå¼±çš„è§’åº¦æ¥ç†è§£ï¼š
  - `number[]` çº¦æŸå°‘
  - `readonly number[]` çº¦æŸå¤š
  - çº¦æŸå°‘çš„å¯ä»¥èµ‹å€¼ç»™çº¦æŸå¤šçš„
  - ç±»æ¯”ï¼šä¸€ä¸ªèƒ½è¯»å†™çš„æ–‡ä»¶å¯ä»¥å½“ä½œåªè¯»æ–‡ä»¶æ¥ç”¨ï¼ˆå®‰å…¨ï¼‰ï¼›ä½†åªè¯»æ–‡ä»¶ä¸èƒ½å½“ä½œå¯å†™æ–‡ä»¶æ¥ç”¨ï¼ˆä¸å®‰å…¨ï¼‰ã€‚
- `number[] âŠ† readonly number[]`
- TS å…è®¸ä½ æŠŠâ€œå¯å†™çš„æ•°ç»„â€å½“æˆâ€œåªè¯»çš„æ•°ç»„â€ä½¿ç”¨ï¼ˆå› ä¸ºè¯»å–å®‰å…¨ï¼‰ï¼Œä½†ä¸èƒ½åè¿‡æ¥ã€‚

```ts
let mutable: number[] = [0, 1]
let readonlyArr: readonly number[] = [2, 3]

readonlyArr = mutable // âœ… æ­£ç¡®ï¼šå­ç±»å‹èµ‹å€¼ç»™çˆ¶ç±»å‹
mutable = readonlyArr // âŒ æŠ¥é”™ï¼šçˆ¶ç±»å‹ä¸èƒ½èµ‹å€¼ç»™å­ç±»å‹
// The type 'readonly number[]' is 'readonly' and cannot be assigned to the mutable type 'number[]'.(4104)
```

- å­ç±»å‹å¯ä»¥èµ‹å€¼ç»™çˆ¶ç±»å‹ï¼Œä½†çˆ¶ç±»å‹ä¸èƒ½èµ‹å€¼ç»™å­ç±»å‹ã€‚

## 14. ğŸ¤” ä¸ºä»€ä¹ˆåªè¯»æ•°ç»„ä¸èƒ½ä½œä¸ºæ™®é€šæ•°ç»„å‚æ•°ä¼ é€’ï¼Ÿ

å› ä¸ºåªè¯»æ•°ç»„æ˜¯æ™®é€šæ•°ç»„çš„çˆ¶ç±»å‹ï¼Œçˆ¶ç±»å‹ä¸èƒ½æ›¿ä»£å­ç±»å‹ï¼š

```ts
function processArray(s: number[]) {
  s.push(4) // å‡½æ•°å†…éƒ¨å¯èƒ½ä¿®æ”¹æ•°ç»„
}

const readonlyArr: readonly number[] = [1, 2, 3]

// âŒ æŠ¥é”™ï¼šåªè¯»æ•°ç»„ä¸èƒ½ä¼ é€’ç»™è¦æ±‚å¯å˜æ•°ç»„çš„å‡½æ•°
// processArray(readonlyArr);
// Argument of type 'readonly number[]' is not assignable to parameter of type 'number[]'.
// The type 'readonly number[]' is 'readonly' and cannot be assigned to the mutable type 'number[]'.(2345)

// âœ… è§£å†³æ–¹æ³•ï¼šä½¿ç”¨ç±»å‹æ–­è¨€
processArray(readonlyArr as number[])
```

## 15. ğŸ¤” å¦‚ä½•å£°æ˜å¤šç»´æ•°ç»„ï¼Ÿ

TypeScript ä½¿ç”¨ `T[][]` çš„å½¢å¼è¡¨ç¤ºäºŒç»´æ•°ç»„ï¼Œ`T` æ˜¯æœ€åº•å±‚æ•°ç»„æˆå‘˜çš„ç±»å‹ï¼š

```ts
// äºŒç»´æ•°ç»„ï¼šnumber[][]
var multi: number[][] = [
  [1, 2, 3],
  [23, 24, 25],
]

// ä¸‰ç»´æ•°ç»„ï¼šstring[][][]
var three: string[][][] = [[['a', 'b'], ['c']], [['d', 'e', 'f']]]

// ä¸è§„åˆ™å¤šç»´æ•°ç»„
var irregular: number[][] = [[1, 2], [3, 4, 5], [6]]
```

å¤šç»´æ•°ç»„é€šè¿‡å¤šé‡ç´¢å¼•è®¿é—®å…ƒç´ ï¼š

```ts
var multi: number[][] = [
  [1, 2, 3],
  [23, 24, 25],
]

// è®¿é—®ç¬¬ä¸€è¡Œç¬¬ä¸‰åˆ—çš„å…ƒç´ 
let element = multi[0][2] // 3

// è®¿é—®ç¬¬äºŒè¡Œç¬¬ä¸€åˆ—çš„å…ƒç´ 
let element2 = multi[1][0] // 23

// ç±»å‹å®‰å…¨æ£€æŸ¥
console.log(multi[0][100]) // undefinedï¼Œä½†ä¸æŠ¥é”™
```
