# [0033. å¯¹è±¡ç±»å‹](https://github.com/tnotesjs/TNotes.typescript/tree/main/notes/0033.%20%E5%AF%B9%E8%B1%A1%E7%B1%BB%E5%9E%8B)

<!-- region:toc -->

- [1. ğŸ¯ æœ¬èŠ‚å†…å®¹](#1--æœ¬èŠ‚å†…å®¹)
- [2. ğŸ«§ è¯„ä»·](#2--è¯„ä»·)
- [3. ğŸ¤” ä»€ä¹ˆæ˜¯ TypeScript çš„å¯¹è±¡ç±»å‹ï¼Ÿ](#3--ä»€ä¹ˆæ˜¯-typescript-çš„å¯¹è±¡ç±»å‹)
- [4. ğŸ¤” å¦‚ä½•å£°æ˜å¯¹è±¡ç±»å‹ï¼Ÿ](#4--å¦‚ä½•å£°æ˜å¯¹è±¡ç±»å‹)
- [5. ğŸ¤” å¯¹è±¡ç±»å‹æœ‰å“ªäº›çº¦æŸè§„åˆ™ï¼Ÿ](#5--å¯¹è±¡ç±»å‹æœ‰å“ªäº›çº¦æŸè§„åˆ™)
- [6. ğŸ¤” å¯¹è±¡çš„æ–¹æ³•å¦‚ä½•å£°æ˜ç±»å‹ï¼Ÿ](#6--å¯¹è±¡çš„æ–¹æ³•å¦‚ä½•å£°æ˜ç±»å‹)
- [7. ğŸ¤” å¦‚ä½•è¯»å–å¯¹è±¡å±æ€§çš„ç±»å‹ï¼Ÿ](#7--å¦‚ä½•è¯»å–å¯¹è±¡å±æ€§çš„ç±»å‹)
- [8. ğŸ¤” å¯¹è±¡å±æ€§å¯ä»¥æ˜¯å¯é€‰çš„å—ï¼Ÿ](#8--å¯¹è±¡å±æ€§å¯ä»¥æ˜¯å¯é€‰çš„å—)
- [9. ğŸ¤” å¦‚ä½•å¤„ç†å¯é€‰å±æ€§çš„ undefined æ£€æŸ¥ï¼Ÿ](#9--å¦‚ä½•å¤„ç†å¯é€‰å±æ€§çš„-undefined-æ£€æŸ¥)
- [10. ğŸ¤” å¯é€‰å±æ€§ä¸ undefined å±æ€§æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ](#10--å¯é€‰å±æ€§ä¸-undefined-å±æ€§æœ‰ä»€ä¹ˆåŒºåˆ«)
- [11. ğŸ¤” ä»€ä¹ˆæ˜¯åªè¯»å±æ€§ï¼Ÿ](#11--ä»€ä¹ˆæ˜¯åªè¯»å±æ€§)
- [12. ğŸ¤” readonly ä¿®é¥°ç¬¦å¯¹åµŒå¥—å¯¹è±¡æœ‰ä»€ä¹ˆå½±å“ï¼Ÿ](#12--readonly-ä¿®é¥°ç¬¦å¯¹åµŒå¥—å¯¹è±¡æœ‰ä»€ä¹ˆå½±å“)
- [13. ğŸ¤” å¦‚ä½•åˆ›å»ºå®Œå…¨åªè¯»çš„å¯¹è±¡ï¼Ÿ](#13--å¦‚ä½•åˆ›å»ºå®Œå…¨åªè¯»çš„å¯¹è±¡)
- [14. ğŸ¤” ä»€ä¹ˆæ˜¯å±æ€§åçš„ç´¢å¼•ç±»å‹ï¼Ÿ](#14--ä»€ä¹ˆæ˜¯å±æ€§åçš„ç´¢å¼•ç±»å‹)
- [15. ğŸ¤” ç´¢å¼•ç±»å‹æ”¯æŒå“ªäº›å±æ€§åç±»å‹ï¼Ÿ](#15--ç´¢å¼•ç±»å‹æ”¯æŒå“ªäº›å±æ€§åç±»å‹)
- [16. ğŸ¤” ç´¢å¼•ç±»å‹æœ‰ä»€ä¹ˆé™åˆ¶å’Œæ³¨æ„äº‹é¡¹ï¼Ÿ](#16--ç´¢å¼•ç±»å‹æœ‰ä»€ä¹ˆé™åˆ¶å’Œæ³¨æ„äº‹é¡¹)
- [17. ğŸ¤” å¦‚ä½•å¤„ç†è§£æ„èµ‹å€¼çš„ç±»å‹ï¼Ÿ](#17--å¦‚ä½•å¤„ç†è§£æ„èµ‹å€¼çš„ç±»å‹)
- [18. ğŸ¤” è§£æ„èµ‹å€¼ä¸­çš„å†’å·æœ‰ä»€ä¹ˆç‰¹æ®Šå«ä¹‰ï¼Ÿ](#18--è§£æ„èµ‹å€¼ä¸­çš„å†’å·æœ‰ä»€ä¹ˆç‰¹æ®Šå«ä¹‰)
- [19. ğŸ¤” ä»€ä¹ˆæ˜¯ç»“æ„ç±»å‹åŸåˆ™ï¼Ÿ](#19--ä»€ä¹ˆæ˜¯ç»“æ„ç±»å‹åŸåˆ™)
- [20. ğŸ¤” ç»“æ„ç±»å‹åŸåˆ™ä¼šå¸¦æ¥ä»€ä¹ˆé—®é¢˜ï¼Ÿ](#20--ç»“æ„ç±»å‹åŸåˆ™ä¼šå¸¦æ¥ä»€ä¹ˆé—®é¢˜)
- [21. ğŸ¤” ä»€ä¹ˆæ˜¯ä¸¥æ ¼å­—é¢é‡æ£€æŸ¥ï¼Ÿ](#21--ä»€ä¹ˆæ˜¯ä¸¥æ ¼å­—é¢é‡æ£€æŸ¥)
- [22. ğŸ¤” å¦‚ä½•è§„é¿ä¸¥æ ¼å­—é¢é‡æ£€æŸ¥ï¼Ÿ](#22--å¦‚ä½•è§„é¿ä¸¥æ ¼å­—é¢é‡æ£€æŸ¥)
- [23. ğŸ¤” ä»€ä¹ˆæ˜¯"æœ€å°å¯é€‰å±æ€§è§„åˆ™"ï¼Ÿ](#23--ä»€ä¹ˆæ˜¯æœ€å°å¯é€‰å±æ€§è§„åˆ™)
- [24. ğŸ¤” ç©ºå¯¹è±¡åœ¨ TypeScript ä¸­æœ‰ä»€ä¹ˆç‰¹æ®Šæ€§ï¼Ÿ](#24--ç©ºå¯¹è±¡åœ¨-typescript-ä¸­æœ‰ä»€ä¹ˆç‰¹æ®Šæ€§)
- [25. ğŸ¤” ç©ºå¯¹è±¡ç±»å‹ä¸ Object ç±»å‹æœ‰ä»€ä¹ˆå…³ç³»ï¼Ÿ](#25--ç©ºå¯¹è±¡ç±»å‹ä¸-object-ç±»å‹æœ‰ä»€ä¹ˆå…³ç³»)
- [26. ğŸ¤” å¦‚ä½•å¼ºåˆ¶ä½¿ç”¨æ²¡æœ‰ä»»ä½•å±æ€§çš„å¯¹è±¡ï¼Ÿ](#26--å¦‚ä½•å¼ºåˆ¶ä½¿ç”¨æ²¡æœ‰ä»»ä½•å±æ€§çš„å¯¹è±¡)

<!-- endregion:toc -->

## 1. ğŸ¯ æœ¬èŠ‚å†…å®¹

- todo

## 2. ğŸ«§ è¯„ä»·

- todo

## 3. ğŸ¤” ä»€ä¹ˆæ˜¯ TypeScript çš„å¯¹è±¡ç±»å‹ï¼Ÿ

TypeScript çš„å¯¹è±¡ç±»å‹æ˜¯æœ€åŸºæœ¬çš„æ•°æ®ç»“æ„ä¹‹ä¸€ã€‚å¯¹è±¡ç±»å‹çš„æœ€ç®€å•å£°æ˜æ–¹æ³•æ˜¯ä½¿ç”¨å¤§æ‹¬å·è¡¨ç¤ºå¯¹è±¡ï¼Œåœ¨å¤§æ‹¬å·å†…éƒ¨å£°æ˜æ¯ä¸ªå±æ€§å’Œæ–¹æ³•çš„ç±»å‹ã€‚

```typescript
const obj: {
  x: number
  y: number
} = { x: 1, y: 1 }
```

ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œå¯¹è±¡[obj](file:///Users/huyouda/tnotesjs/TNotes.typescript/notes/0003.%20ç®€ä»‹/é™æ€ç±»å‹çš„ä¼˜ç‚¹/æ‹¼å†™é”™è¯¯.ts#L0-L0)çš„ç±»å‹å°±å†™åœ¨å˜é‡ååé¢ï¼Œä½¿ç”¨å¤§æ‹¬å·æè¿°ï¼Œå†…éƒ¨å£°æ˜æ¯ä¸ªå±æ€§çš„å±æ€§åå’Œç±»å‹ã€‚

## 4. ğŸ¤” å¦‚ä½•å£°æ˜å¯¹è±¡ç±»å‹ï¼Ÿ

å¯ä»¥ä½¿ç”¨å¤§æ‹¬å·è¯­æ³•å£°æ˜å¯¹è±¡ç±»å‹ï¼Œå±æ€§çš„ç±»å‹å¯ä»¥ç”¨åˆ†å·æˆ–é€—å·ç»“å°¾ã€‚æœ€åä¸€ä¸ªå±æ€§åé¢å¯ä»¥å†™åˆ†å·æˆ–é€—å·ï¼Œä¹Ÿå¯ä»¥ä¸å†™ã€‚

```typescript
// å±æ€§ç±»å‹ä»¥åˆ†å·ç»“å°¾
type MyObj = {
  x: number
  y: number
}

// å±æ€§ç±»å‹ä»¥é€—å·ç»“å°¾
type MyObj = {
  x: number
  y: number
}
```

ä¹Ÿå¯ä»¥ä½¿ç”¨ `type` å‘½ä»¤ä¸ºå¯¹è±¡ç±»å‹å£°æ˜åˆ«åï¼Œæˆ–ä½¿ç”¨ `interface` å‘½ä»¤æŠŠå¯¹è±¡ç±»å‹æç‚¼ä¸ºæ¥å£ã€‚

```typescript
// ä½¿ç”¨ type å‘½ä»¤
type MyObj = {
  x: number
  y: number
}

const obj: MyObj = { x: 1, y: 1 }

// ä½¿ç”¨ interface å‘½ä»¤
interface MyObjInterface {
  x: number
  y: number
}

const obj2: MyObjInterface = { x: 1, y: 1 }
```

## 5. ğŸ¤” å¯¹è±¡ç±»å‹æœ‰å“ªäº›çº¦æŸè§„åˆ™ï¼Ÿ

ä¸€æ—¦å£°æ˜äº†ç±»å‹ï¼Œå¯¹è±¡èµ‹å€¼æ—¶å°±ä¸èƒ½ç¼ºå°‘æŒ‡å®šçš„å±æ€§ï¼Œä¹Ÿä¸èƒ½æœ‰å¤šä½™çš„å±æ€§ã€‚è¯»å†™ä¸å­˜åœ¨çš„å±æ€§ä¹Ÿä¼šæŠ¥é”™ï¼ŒåŒæ ·ä¸èƒ½åˆ é™¤ç±»å‹å£°æ˜ä¸­å­˜åœ¨çš„å±æ€§ã€‚

```typescript
type MyObj = {
  x: number
  y: number
}

const o1: MyObj = { x: 1 } // æŠ¥é”™ï¼šç¼ºå°‘å±æ€§ y
const o2: MyObj = { x: 1, y: 1, z: 1 } // æŠ¥é”™ï¼šå¤šå‡ºå±æ€§ z

const obj: {
  x: number
  y: number
} = { x: 1, y: 1 }

console.log(obj.z) // æŠ¥é”™ï¼šè¯»å–ä¸å­˜åœ¨çš„å±æ€§
obj.z = 1 // æŠ¥é”™ï¼šå†™å…¥ä¸å­˜åœ¨çš„å±æ€§

const myUser = {
  name: 'Sabrina',
}

delete myUser.name // æŠ¥é”™ï¼šåˆ é™¤å­˜åœ¨çš„å±æ€§
myUser.name = 'Cynthia' // æ­£ç¡®ï¼šä¿®æ”¹å±æ€§å€¼
```

## 6. ğŸ¤” å¯¹è±¡çš„æ–¹æ³•å¦‚ä½•å£°æ˜ç±»å‹ï¼Ÿ

å¯¹è±¡çš„æ–¹æ³•ä½¿ç”¨å‡½æ•°ç±»å‹æè¿°ï¼Œæœ‰ä¸¤ç§å†™æ³•ï¼š

```typescript
const obj: {
  x: number
  y: number
  // æ–¹æ³•å†™æ³•ä¸€ï¼šç›´æ¥å£°æ˜å‡½æ•°
  add(x: number, y: number): number
  // æ–¹æ³•å†™æ³•äºŒï¼šä½¿ç”¨ç®­å¤´å‡½æ•°ç±»å‹
  multiply: (x: number, y: number) => number
} = {
  x: 1,
  y: 1,
  add(x, y) {
    return x + y
  },
  multiply(x, y) {
    return x * y
  },
}
```

## 7. ğŸ¤” å¦‚ä½•è¯»å–å¯¹è±¡å±æ€§çš„ç±»å‹ï¼Ÿ

å¯¹è±¡ç±»å‹å¯ä»¥ä½¿ç”¨æ–¹æ‹¬å·è¯»å–å±æ€§çš„ç±»å‹ï¼š

```typescript
type User = {
  name: string
  age: number
}
type Name = User['name'] // string
type Age = User['age'] // number
```

## 8. ğŸ¤” å¯¹è±¡å±æ€§å¯ä»¥æ˜¯å¯é€‰çš„å—ï¼Ÿ

æ˜¯çš„ï¼Œå¦‚æœæŸä¸ªå±æ€§æ˜¯å¯é€‰çš„ï¼ˆå³å¯ä»¥å¿½ç•¥ï¼‰ï¼Œéœ€è¦åœ¨å±æ€§ååé¢åŠ ä¸€ä¸ªé—®å·ï¼š

```typescript
const obj: {
  x: number
  y?: number
} = { x: 1 }
```

ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œå±æ€§[y](file:///Users/huyouda/tnotesjs/TNotes.typescript/notes/0003.%20ç®€ä»‹/åŠ¨æ€ç±»å‹ä¸é™æ€ç±»å‹/åŠ¨æ€çš„%20JS.js#L5-L5)æ˜¯å¯é€‰çš„ã€‚

å¯é€‰å±æ€§ç­‰åŒäºå…è®¸èµ‹å€¼ä¸º`undefined`ï¼Œä¸‹é¢ä¸¤ç§å†™æ³•æ˜¯ç­‰æ•ˆçš„ï¼š

```typescript
type User = {
  firstName: string
  lastName?: string
}

// ç­‰åŒäº
type UserWithUndefined = {
  firstName: string
  lastName?: string | undefined
}
```

## 9. ğŸ¤” å¦‚ä½•å¤„ç†å¯é€‰å±æ€§çš„ undefined æ£€æŸ¥ï¼Ÿ

è¯»å–å¯é€‰å±æ€§ä¹‹å‰ï¼Œå¿…é¡»æ£€æŸ¥æ˜¯å¦ä¸º`undefined`ï¼š

```typescript
const user: {
  firstName: string
  lastName?: string
} = { firstName: 'Foo' }

// æ–¹æ³•ä¸€ï¼šä½¿ç”¨ if åˆ¤æ–­
if (user.lastName !== undefined) {
  console.log(`hello ${user.firstName} ${user.lastName}`)
}

// æ–¹æ³•äºŒï¼šä½¿ç”¨ä¸‰å…ƒè¿ç®—ç¬¦
let lastName = user.lastName === undefined ? 'Default' : user.lastName

// æ–¹æ³•ä¸‰ï¼šä½¿ç”¨ Null åˆ¤æ–­è¿ç®—ç¬¦
let lastName2 = user.lastName ?? 'Default'
```

## 10. ğŸ¤” å¯é€‰å±æ€§ä¸ undefined å±æ€§æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ

å¯é€‰å±æ€§ä¸å…è®¸è®¾ä¸º`undefined`çš„å¿…é€‰å±æ€§æ˜¯ä¸ç­‰ä»·çš„ï¼š

```typescript
type A = { x: number; y?: number }
type B = { x: number; y: number | undefined }

const ObjA: A = { x: 1 } // æ­£ç¡®ï¼šå¯é€‰å±æ€§å¯ä»¥çœç•¥
const ObjB: B = { x: 1 } // æŠ¥é”™ï¼šå¿…é€‰å±æ€§ä¸èƒ½çœç•¥
const ObjB2: B = { x: 1, y: undefined } // æ­£ç¡®ï¼šå¿…é¡»æ˜¾å¼å£°æ˜
```

## 11. ğŸ¤” ä»€ä¹ˆæ˜¯åªè¯»å±æ€§ï¼Ÿ

å±æ€§åå‰é¢åŠ ä¸Š`readonly`å…³é”®å­—ï¼Œè¡¨ç¤ºè¿™ä¸ªå±æ€§æ˜¯åªè¯»å±æ€§ï¼Œä¸èƒ½ä¿®æ”¹ï¼š

```typescript
interface MyInterface {
  readonly prop: number
}

const person: {
  readonly age: number
} = { age: 20 }

person.age = 21 // æŠ¥é”™ï¼šä¸èƒ½ä¿®æ”¹åªè¯»å±æ€§
```

åªè¯»å±æ€§åªèƒ½åœ¨å¯¹è±¡åˆå§‹åŒ–æœŸé—´èµ‹å€¼ï¼Œæ­¤åå°±ä¸èƒ½ä¿®æ”¹è¯¥å±æ€§ï¼š

```typescript
type Point = {
  readonly x: number
  readonly y: number
}

const p: Point = { x: 0, y: 0 }

p.x = 100 // æŠ¥é”™ï¼šä¸èƒ½ä¿®æ”¹åªè¯»å±æ€§
```

## 12. ğŸ¤” readonly ä¿®é¥°ç¬¦å¯¹åµŒå¥—å¯¹è±¡æœ‰ä»€ä¹ˆå½±å“ï¼Ÿ

å¦‚æœå±æ€§å€¼æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œ`readonly`ä¿®é¥°ç¬¦å¹¶ä¸ç¦æ­¢ä¿®æ”¹è¯¥å¯¹è±¡çš„å±æ€§ï¼Œåªæ˜¯ç¦æ­¢å®Œå…¨æ›¿æ¢æ‰è¯¥å¯¹è±¡ï¼š

```typescript
interface Home {
  readonly resident: {
    name: string
    age: number
  }
}

const h: Home = {
  resident: {
    name: 'Vicky',
    age: 42,
  },
}

h.resident.age = 32 // æ­£ç¡®ï¼šå¯ä»¥ä¿®æ”¹åµŒå¥—å¯¹è±¡çš„å±æ€§
h.resident = {
  name: 'Kate',
  age: 23,
} // æŠ¥é”™ï¼šä¸èƒ½æ›¿æ¢æ•´ä¸ªåªè¯»å±æ€§
```

## 13. ğŸ¤” å¦‚ä½•åˆ›å»ºå®Œå…¨åªè¯»çš„å¯¹è±¡ï¼Ÿ

å¯ä»¥ä½¿ç”¨`as const`æ–­è¨€åˆ›å»ºå®Œå…¨åªè¯»çš„å¯¹è±¡ï¼š

```typescript
const myUser = {
  name: 'Sabrina',
  details: {
    age: 25,
  },
} as const

myUser.name = 'Cynthia' // æŠ¥é”™ï¼šä¸èƒ½ä¿®æ”¹åªè¯»å±æ€§
myUser.details.age = 26 // æŠ¥é”™ï¼šåµŒå¥—å±æ€§ä¹Ÿå˜æˆåªè¯»
```

## 14. ğŸ¤” ä»€ä¹ˆæ˜¯å±æ€§åçš„ç´¢å¼•ç±»å‹ï¼Ÿ

å½“å¯¹è±¡å±æ€§éå¸¸å¤šæˆ–æ— æ³•äº‹å‰çŸ¥é“å¯¹è±¡ä¼šæœ‰å¤šå°‘å±æ€§æ—¶ï¼Œå¯ä»¥é‡‡ç”¨å±æ€§åè¡¨è¾¾å¼çš„å†™æ³•æ¥æè¿°ç±»å‹ï¼Œç§°ä¸º"å±æ€§åçš„ç´¢å¼•ç±»å‹"ï¼š

```typescript
type MyObj = {
  [property: string]: string
}

const obj: MyObj = {
  foo: 'a',
  bar: 'b',
  baz: 'c',
}
```

## 15. ğŸ¤” ç´¢å¼•ç±»å‹æ”¯æŒå“ªäº›å±æ€§åç±»å‹ï¼Ÿ

JavaScript å¯¹è±¡çš„å±æ€§åç±»å‹æœ‰ä¸‰ç§å¯èƒ½ï¼š`string`ã€`number`å’Œ`symbol`ï¼š

```typescript
type StringIndex = {
  [property: string]: string
}

type NumberIndex = {
  [property: number]: string
}

type SymbolIndex = {
  [property: symbol]: string
}

type MixedIndex = {
  name: string // å…·ä½“å±æ€§
  [index: number]: string // æ•°å€¼ç´¢å¼•
  [key: string]: string // å­—ç¬¦ä¸²ç´¢å¼•
}
```

## 16. ğŸ¤” ç´¢å¼•ç±»å‹æœ‰ä»€ä¹ˆé™åˆ¶å’Œæ³¨æ„äº‹é¡¹ï¼Ÿ

ç´¢å¼•ç±»å‹æœ‰ä»¥ä¸‹é™åˆ¶ï¼š

1. æ•°å€¼ç´¢å¼•å¿…é¡»æœä»å­—ç¬¦ä¸²ç´¢å¼•ï¼ˆå› ä¸º JS ä¸­æ•°å€¼å±æ€§åä¼šè½¬ä¸ºå­—ç¬¦ä¸²ï¼‰
2. å…·ä½“å±æ€§å¿…é¡»ç¬¦åˆç´¢å¼•ç±»å‹çš„çº¦æŸ

```typescript
// é”™è¯¯ç¤ºä¾‹ï¼šæ•°å€¼ç´¢å¼•ä¸å­—ç¬¦ä¸²ç´¢å¼•å†²çª
type MyType = {
  [x: number]: boolean // æŠ¥é”™
  [x: string]: string
}

// é”™è¯¯ç¤ºä¾‹ï¼šå…·ä½“å±æ€§ä¸ç´¢å¼•ç±»å‹å†²çª
type MyType2 = {
  foo: boolean // æŠ¥é”™
  [x: string]: string
}

// æ­£ç¡®ç¤ºä¾‹ï¼šæ•°å€¼ç´¢å¼•æœä»å­—ç¬¦ä¸²ç´¢å¼•
type MyType3 = {
  [x: number]: string // æ­£ç¡®
  [x: string]: string
}
```

## 17. ğŸ¤” å¦‚ä½•å¤„ç†è§£æ„èµ‹å€¼çš„ç±»å‹ï¼Ÿ

è§£æ„èµ‹å€¼ç”¨äºç›´æ¥ä»å¯¹è±¡ä¸­æå–å±æ€§ï¼Œç±»å‹å†™æ³•è·Ÿä¸ºå¯¹è±¡å£°æ˜ç±»å‹æ˜¯ä¸€æ ·çš„ï¼š

```typescript
const product = {
  id: '123',
  name: 'ç¬”è®°æœ¬ç”µè„‘',
  price: 5999,
}

// åŸºæœ¬è§£æ„
const { id, name, price } = product

// å¸¦ç±»å‹å£°æ˜çš„è§£æ„
const {
  id: productId,
  name: productName,
  price: productPrice,
}: {
  id: string
  name: string
  price: number
} = product
```

## 18. ğŸ¤” è§£æ„èµ‹å€¼ä¸­çš„å†’å·æœ‰ä»€ä¹ˆç‰¹æ®Šå«ä¹‰ï¼Ÿ

åœ¨è§£æ„èµ‹å€¼ä¸­ï¼Œå†’å·ä¸æ˜¯è¡¨ç¤ºç±»å‹ï¼Œè€Œæ˜¯ä¸ºå±æ€§æŒ‡å®šæ–°çš„å˜é‡åï¼š

```typescript
let obj = { x: 1, y: 2 }

// å†’å·è¡¨ç¤ºé‡å‘½åå˜é‡
let { x: foo, y: bar } = obj
// ç­‰åŒäº
let foo = obj.x
let bar = obj.y

// å¦‚æœè¦æŒ‡å®šç±»å‹ï¼Œéœ€è¦æ•´ä½“å£°æ˜
let { x: foo, y: bar }: { x: number; y: number } = obj
```

## 19. ğŸ¤” ä»€ä¹ˆæ˜¯ç»“æ„ç±»å‹åŸåˆ™ï¼Ÿ

åªè¦å¯¹è±¡ B æ»¡è¶³å¯¹è±¡ A çš„ç»“æ„ç‰¹å¾ï¼ŒTypeScript å°±è®¤ä¸ºå¯¹è±¡ B å…¼å®¹å¯¹è±¡ A çš„ç±»å‹ï¼Œè¿™ç§°ä¸º"ç»“æ„ç±»å‹"åŸåˆ™ï¼š

```typescript
type A = {
  x: number
}

type B = {
  x: number
  y: number
}

const objB = {
  x: 1,
  y: 1,
}

const objA: A = objB // æ­£ç¡®ï¼šB æ»¡è¶³ A çš„ç»“æ„ç‰¹å¾
```

## 20. ğŸ¤” ç»“æ„ç±»å‹åŸåˆ™ä¼šå¸¦æ¥ä»€ä¹ˆé—®é¢˜ï¼Ÿ

ç»“æ„ç±»å‹åŸåˆ™æœ‰æ—¶ä¼šå¯¼è‡´ä»¤äººæƒŠè®¶çš„ç»“æœï¼Œç‰¹åˆ«æ˜¯åœ¨ä½¿ç”¨ç´¢å¼•è®¿é—®æ—¶ï¼š

```typescript
type MyObj = {
  x: number
  y: number
}

// é—®é¢˜ç¤ºä¾‹ï¼šä½¿ç”¨ Object.keys éå†æ—¶ç±»å‹ä¸å®‰å…¨
function getSum(obj: MyObj) {
  let sum = 0

  for (const n of Object.keys(obj)) {
    const v = obj[n] // æŠ¥é”™ï¼šç±»å‹ä¸å®‰å…¨
    sum += Math.abs(v)
  }

  return sum
}

// æ›´å®‰å…¨çš„å†™æ³•
function getSumSafe(obj: MyObj) {
  return Math.abs(obj.x) + Math.abs(obj.y)
}
```

## 21. ğŸ¤” ä»€ä¹ˆæ˜¯ä¸¥æ ¼å­—é¢é‡æ£€æŸ¥ï¼Ÿ

å¦‚æœå¯¹è±¡ä½¿ç”¨å­—é¢é‡è¡¨ç¤ºï¼Œä¼šè§¦å‘ TypeScript çš„ä¸¥æ ¼å­—é¢é‡æ£€æŸ¥ã€‚å¦‚æœå­—é¢é‡çš„ç»“æ„è·Ÿç±»å‹å®šä¹‰çš„ä¸ä¸€æ ·ï¼ˆæ¯”å¦‚å¤šå‡ºäº†æœªå®šä¹‰çš„å±æ€§ï¼‰ï¼Œå°±ä¼šæŠ¥é”™ï¼š

```typescript
const point: {
  x: number
  y: number
} = {
  x: 1,
  y: 1,
  z: 1, // æŠ¥é”™ï¼šå¤šå‡ºæœªå®šä¹‰çš„å±æ€§
}
```

## 22. ğŸ¤” å¦‚ä½•è§„é¿ä¸¥æ ¼å­—é¢é‡æ£€æŸ¥ï¼Ÿ

æœ‰å‡ ç§æ–¹æ³•å¯ä»¥è§„é¿ä¸¥æ ¼å­—é¢é‡æ£€æŸ¥ï¼š

```typescript
type Options = {
  title: string
  darkMode?: boolean
}

// æ–¹æ³•ä¸€ï¼šä½¿ç”¨ä¸­é—´å˜é‡
let myOptions = {
  title: 'æˆ‘çš„ç½‘é¡µ',
  darkmode: true, // æ‹¼å†™é”™è¯¯
}

const obj1: Options = myOptions // ä¸æŠ¥é”™

// æ–¹æ³•äºŒï¼šä½¿ç”¨ç±»å‹æ–­è¨€
const obj2: Options = {
  title: 'æˆ‘çš„ç½‘é¡µ',
  darkmode: true, // æ‹¼å†™é”™è¯¯
} as Options // ä¸æŠ¥é”™

// æ–¹æ³•ä¸‰ï¼šåœ¨ç±»å‹ä¸­å…è®¸é¢å¤–å±æ€§
let obj3: {
  title: string
  darkMode?: boolean
  [x: string]: any // å…è®¸ä»»æ„é¢å¤–å±æ€§
} = {
  title: 'æˆ‘çš„ç½‘é¡µ',
  darkmode: true,
}
```

## 23. ğŸ¤” ä»€ä¹ˆæ˜¯"æœ€å°å¯é€‰å±æ€§è§„åˆ™"ï¼Ÿ

å¦‚æœæŸä¸ªç±»å‹çš„æ‰€æœ‰å±æ€§éƒ½æ˜¯å¯é€‰çš„ï¼Œé‚£ä¹ˆè¯¥ç±»å‹çš„å¯¹è±¡å¿…é¡»è‡³å°‘å­˜åœ¨ä¸€ä¸ªå¯é€‰å±æ€§ï¼Œä¸èƒ½æ‰€æœ‰å¯é€‰å±æ€§éƒ½ä¸å­˜åœ¨ï¼š

```typescript
type Options = {
  a?: number
  b?: number
  c?: number
}

const opts = { d: 123 }

const obj: Options = opts // æŠ¥é”™ï¼šæ²¡æœ‰å…±åŒå±æ€§

// è§£å†³æ–¹æ³•ä¸€ï¼šä½¿ç”¨ç±»å‹æ–­è¨€
const obj1: Options = opts as Options

// è§£å†³æ–¹æ³•äºŒï¼šæ·»åŠ ç´¢å¼•ç­¾å
type OptionsWithIndex = {
  a?: number
  b?: number
  c?: number
  [propName: string]: any
}
```

## 24. ğŸ¤” ç©ºå¯¹è±¡åœ¨ TypeScript ä¸­æœ‰ä»€ä¹ˆç‰¹æ®Šæ€§ï¼Ÿ

ç©ºå¯¹è±¡ `{}` æ˜¯ TypeScript çš„ä¸€ç§ç‰¹æ®Šå€¼å’Œç±»å‹ã€‚TypeScript ä¼šæ¨æ–­ç©ºå¯¹è±¡ä¸èƒ½æœ‰è‡ªå®šä¹‰å±æ€§ï¼Œåªèƒ½ä½¿ç”¨ç»§æ‰¿çš„å±æ€§ï¼š

```typescript
const obj = {}
obj.prop = 123 // æŠ¥é”™ï¼šä¸èƒ½æ·»åŠ è‡ªå®šä¹‰å±æ€§

// æ­£ç¡®ï¼šä½¿ç”¨ç»§æ‰¿çš„å±æ€§
obj.toString() // æ­£ç¡®
obj.hasOwnProperty('prop') // æ­£ç¡®

// å¦‚æœéœ€è¦åˆ†æ­¥æ„å»ºå¯¹è±¡ï¼Œä½¿ç”¨æ‰©å±•è¿ç®—ç¬¦
const pt0 = {}
const pt1 = { x: 3 }
const pt2 = { y: 4 }

const pt = {
  ...pt0,
  ...pt1,
  ...pt2,
}
```

## 25. ğŸ¤” ç©ºå¯¹è±¡ç±»å‹ä¸ Object ç±»å‹æœ‰ä»€ä¹ˆå…³ç³»ï¼Ÿ

ç©ºå¯¹è±¡ä½œä¸ºç±»å‹ï¼Œå…¶å®æ˜¯`Object`ç±»å‹çš„ç®€å†™å½¢å¼ï¼š

```typescript
let d: {}
// ç­‰åŒäº
let d2: Object

d = {}
d = { x: 1 }
d = 'hello'
d = 2

// ä½†ä¸èƒ½èµ‹å€¼ç»™æ›´ä¸¥æ ¼çš„ç©ºæ¥å£
interface Empty {}
const b: Empty = { myProp: 1, anotherProp: 2 } // æ­£ç¡®
// b.myProp // æŠ¥é”™ï¼šä¸èƒ½è¯»å–æœªå£°æ˜çš„å±æ€§
```

## 26. ğŸ¤” å¦‚ä½•å¼ºåˆ¶ä½¿ç”¨æ²¡æœ‰ä»»ä½•å±æ€§çš„å¯¹è±¡ï¼Ÿ

å¦‚æœæƒ³å¼ºåˆ¶ä½¿ç”¨æ²¡æœ‰ä»»ä½•å±æ€§çš„å¯¹è±¡ï¼Œå¯ä»¥é‡‡ç”¨ç´¢å¼•ç­¾å never çš„æ–¹å¼ï¼š

```typescript
interface WithoutProperties {
  [key: string]: never
}

// æŠ¥é”™ï¼šä¸èƒ½æœ‰ä»»æ„å±æ€§
const a: WithoutProperties = { prop: 1 }

// æ­£ç¡®ï¼šç©ºå¯¹è±¡
const b: WithoutProperties = {}
```
