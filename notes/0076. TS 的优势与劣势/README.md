# [0076. TS çš„ä¼˜åŠ¿ä¸åŠ£åŠ¿](https://github.com/tnotesjs/TNotes.typescript/tree/main/notes/0076.%20TS%20%E7%9A%84%E4%BC%98%E5%8A%BF%E4%B8%8E%E5%8A%A3%E5%8A%BF)

<!-- region:toc -->

- [1. ğŸ¯ æœ¬èŠ‚å†…å®¹](#1--æœ¬èŠ‚å†…å®¹)
- [2. ğŸ«§ è¯„ä»·](#2--è¯„ä»·)
- [3. ğŸ¤” TypeScript çš„æ ¸å¿ƒä¼˜åŠ¿æ˜¯ä»€ä¹ˆï¼Ÿ](#3--typescript-çš„æ ¸å¿ƒä¼˜åŠ¿æ˜¯ä»€ä¹ˆ)
  - [3.1. æ ¸å¿ƒä¼˜åŠ¿](#31-æ ¸å¿ƒä¼˜åŠ¿)
  - [3.2. çœŸå®æ¡ˆä¾‹](#32-çœŸå®æ¡ˆä¾‹)
- [4. ğŸ¤” TypeScript çš„ä¸»è¦åŠ£åŠ¿æ˜¯ä»€ä¹ˆï¼Ÿ](#4--typescript-çš„ä¸»è¦åŠ£åŠ¿æ˜¯ä»€ä¹ˆ)
  - [4.1. ä¸»è¦åŠ£åŠ¿](#41-ä¸»è¦åŠ£åŠ¿)
  - [4.2. çœŸå®ç—›ç‚¹](#42-çœŸå®ç—›ç‚¹)
- [5. ğŸ¤” TypeScript é€‚åˆå“ªäº›åœºæ™¯ï¼Ÿ](#5--typescript-é€‚åˆå“ªäº›åœºæ™¯)
- [6. ğŸ¤” TypeScript ä¸é€‚åˆå“ªäº›åœºæ™¯ï¼Ÿ](#6--typescript-ä¸é€‚åˆå“ªäº›åœºæ™¯)
- [7. ğŸ¤” TypeScript vs JavaScriptï¼šå¦‚ä½•é€‰æ‹©ï¼Ÿ](#7--typescript-vs-javascriptå¦‚ä½•é€‰æ‹©)
  - [7.1. å†³ç­–æ ‘](#71-å†³ç­–æ ‘)
  - [7.2. å¯¹æ¯”çŸ©é˜µ](#72-å¯¹æ¯”çŸ©é˜µ)
  - [7.3. å®ç”¨å»ºè®®](#73-å®ç”¨å»ºè®®)
- [8. ğŸ¤” å¸¸è§è¯¯è§£æœ‰å“ªäº›ï¼Ÿ](#8--å¸¸è§è¯¯è§£æœ‰å“ªäº›)
- [9. ğŸ”— å¼•ç”¨](#9--å¼•ç”¨)

<!-- endregion:toc -->

## 1. ğŸ¯ æœ¬èŠ‚å†…å®¹

- TypeScript çš„ä¼˜åŠ¿ä¸ä»·å€¼
- TypeScript çš„åŠ£åŠ¿ä¸é™åˆ¶
- é€‚ç”¨åœºæ™¯åˆ†æ
- æŠ€æœ¯é€‰å‹å»ºè®®
- å¸¸è§è¯¯è§£æ¾„æ¸…

## 2. ğŸ«§ è¯„ä»·

TypeScript è‡ª 2012 å¹´å‘å¸ƒä»¥æ¥ï¼Œå·²ç»æˆä¸ºç°ä»£å‰ç«¯å¼€å‘çš„äº‹å®æ ‡å‡†ã€‚å®ƒé€šè¿‡é™æ€ç±»å‹ç³»ç»Ÿä¸º JavaScript å¸¦æ¥äº†ç¼–è¯‘æœŸé”™è¯¯æ£€æµ‹å’Œå¼ºå¤§çš„ IDE æ”¯æŒï¼Œæ˜¾è‘—æå‡äº†å¤§å‹é¡¹ç›®çš„å¯ç»´æŠ¤æ€§ã€‚

ç„¶è€Œï¼ŒTypeScript å¹¶éé“¶å¼¹ã€‚å®ƒå¼•å…¥äº†é¢å¤–çš„å­¦ä¹ æˆæœ¬ã€ç¼–è¯‘å¼€é”€å’Œç±»å‹ä½“æ“å¤æ‚åº¦ã€‚åœ¨å°å‹é¡¹ç›®æˆ–å¿«é€ŸåŸå‹å¼€å‘ä¸­ï¼Œè¿™äº›æˆæœ¬å¯èƒ½è¶…è¿‡æ”¶ç›Šã€‚

å®¢è§‚æ¥è¯´ï¼ŒTypeScript çš„ä»·å€¼åœ¨äºæƒè¡¡ï¼šç”¨ç¼–è¯‘æœŸçš„å¤æ‚åº¦æ¢å–è¿è¡Œæ—¶çš„ç¨³å®šæ€§ï¼Œç”¨çŸ­æœŸçš„å­¦ä¹ æˆæœ¬æ¢å–é•¿æœŸçš„ç»´æŠ¤æ•ˆç‡ã€‚ç†è§£å…¶ä¼˜åŠ£åŠ¿ï¼Œæ‰èƒ½åœ¨åˆé€‚çš„åœºæ™¯åšå‡ºæ­£ç¡®çš„æŠ€æœ¯é€‰å‹ã€‚

## 3. ğŸ¤” TypeScript çš„æ ¸å¿ƒä¼˜åŠ¿æ˜¯ä»€ä¹ˆï¼Ÿ

### 3.1. æ ¸å¿ƒä¼˜åŠ¿

| ä¼˜åŠ¿       | å…·ä½“è¡¨ç°                    | ä»·å€¼           |
| ---------- | --------------------------- | -------------- |
| ç±»å‹å®‰å…¨   | ç¼–è¯‘æœŸæ•è·ç±»å‹é”™è¯¯          | å‡å°‘è¿è¡Œæ—¶å´©æºƒ |
| IDE æ”¯æŒ   | æ™ºèƒ½æç¤ºã€è‡ªåŠ¨è¡¥å…¨          | æå‡å¼€å‘æ•ˆç‡   |
| é‡æ„å‹å¥½   | é‡å‘½åã€æŸ¥æ‰¾å¼•ç”¨ç­‰å·¥å…·      | é™ä½ç»´æŠ¤æˆæœ¬   |
| æ–‡æ¡£åŒ–     | ç±»å‹å³æ–‡æ¡£                  | æé«˜ä»£ç å¯è¯»æ€§ |
| å·¥å…·ç”Ÿæ€   | ESLintã€Prettier ç­‰æ·±åº¦é›†æˆ | ç»Ÿä¸€å›¢é˜Ÿè§„èŒƒ   |
| æ¸è¿›å¼é‡‡ç”¨ | å¯ä¸ JS æ··ç”¨                | é™ä½è¿ç§»é£é™©   |

- ä¼˜åŠ¿ 1ï¼šç¼–è¯‘æœŸé”™è¯¯æ£€æµ‹
- ä¼˜åŠ¿ 2ï¼šIDE æ™ºèƒ½æç¤º
- ä¼˜åŠ¿ 3ï¼šé‡æ„å®‰å…¨
- ä¼˜åŠ¿ 4ï¼šç±»å‹å³æ–‡æ¡£

::: code-group

```ts [1]
// âŒ JavaScriptï¼šè¿è¡Œæ—¶æ‰æŠ¥é”™
function getUser(id) {
  return fetch(`/api/user/${id}`).then((r) => r.json())
}

const user = getUser('abc') // é”™è¯¯ï¼šåº”è¯¥ä¼ æ•°å­—ï¼Œä½†è¿è¡Œæ—¶æ‰ä¼šå‘ç°
user.name.toUpperCase() // é”™è¯¯ï¼šuser æ˜¯ Promiseï¼Œè¿è¡Œæ—¶æ‰æŠ¥é”™

// âœ… TypeScriptï¼šç¼–è¯‘æœŸç«‹å³å‘ç°
function getUser(id: number): Promise<User> {
  return fetch(`/api/user/${id}`).then((r) => r.json())
}

const user = getUser('abc') // âŒ ç¼–è¯‘é”™è¯¯ï¼šç±»å‹ 'string' ä¸èƒ½èµ‹å€¼ç»™ 'number'
user.name.toUpperCase() // âŒ ç¼–è¯‘é”™è¯¯ï¼šPromise æ²¡æœ‰ name å±æ€§
```

```ts [2]
interface User {
  id: number
  name: string
  email: string
}

function processUser(user: User) {
  // âœ… è¾“å…¥ user. åè‡ªåŠ¨æ˜¾ç¤ºï¼šid, name, email
  user.name.toUpperCase()

  // âœ… æ–¹æ³•ç­¾åæç¤º
  user.email.split('@') // è‡ªåŠ¨æ˜¾ç¤ºå‚æ•°ç±»å‹å’Œè¿”å›å€¼
}

// å¯¹æ¯” JavaScriptï¼šéœ€è¦è®°ä½æˆ–æŸ¥æ–‡æ¡£
```

```ts [3]
// åœºæ™¯ï¼šé‡å‘½åå±æ€§
interface Config {
  timeout: number // é‡å‘½åä¸º timeoutMs
}

// âœ… TypeScriptï¼šé‡å‘½ååæ‰€æœ‰å¼•ç”¨å¤„ç«‹å³æŠ¥é”™
function connect(config: Config) {
  console.log(config.timeout) // âŒ ç¼–è¯‘é”™è¯¯ï¼Œå¼ºåˆ¶ä¿®æ”¹
}

// âŒ JavaScriptï¼šåªèƒ½å…¨å±€æœç´¢æ›¿æ¢ï¼Œå®¹æ˜“é—æ¼
```

```ts [4]
// âœ… TypeScriptï¼šç±»å‹å°±æ˜¯æ–‡æ¡£
function retry<T>(
  fn: () => Promise<T>,
  options?: {
    maxAttempts?: number
    delay?: number
    onError?: (error: Error) => void
  }
): Promise<T>

// ä½¿ç”¨æ—¶ç›´æ¥çœ‹åˆ°æ‰€æœ‰å¯ç”¨é€‰é¡¹ï¼Œæ— éœ€æŸ¥æ–‡æ¡£

// âŒ JavaScriptï¼šéœ€è¦é¢å¤–ç»´æŠ¤æ–‡æ¡£
/**
 * @param {Function} fn - è¦é‡è¯•çš„å‡½æ•°
 * @param {Object} options - é€‰é¡¹
 * @param {number} options.maxAttempts - æœ€å¤§é‡è¯•æ¬¡æ•°
 * ...
 */
```

:::

### 3.2. çœŸå®æ¡ˆä¾‹

- æ¡ˆä¾‹ 1ï¼šé¿å…ç”Ÿäº§äº‹æ•…
- æ¡ˆä¾‹ 2ï¼šå›¢é˜Ÿåä½œå‹å¥½

::: code-group

```ts [1]
// çœŸå®åœºæ™¯ï¼šAPI å“åº”å­—æ®µå˜æ›´
interface UserResponse {
  // userId: string  // â† åç«¯æ”¹ä¸º id
  id: string
  name: string
}

function renderUser(user: UserResponse) {
  // âŒ ç¼–è¯‘é”™è¯¯ï¼šProperty 'userId' does not exist
  return `User: ${user.userId}`

  // âœ… ä¿®æ”¹åé€šè¿‡
  return `User: ${user.id}`
}

// JavaScript ç‰ˆæœ¬ï¼šä¸Šçº¿åæ‰å‘ç°é¡µé¢ç©ºç™½
```

```ts [2]
// å¼€å‘è€… A å®šä¹‰æ¥å£
export interface PaymentOptions {
  amount: number
  currency: 'USD' | 'EUR' | 'CNY'
  method: 'card' | 'alipay' | 'wechat'
}

// å¼€å‘è€… B ä½¿ç”¨æ—¶
processPayment({
  amount: 100,
  currency: 'RMB', // âŒ ç¼–è¯‘é”™è¯¯ï¼Œç«‹å³å‘ç°æ‹¼å†™é”™è¯¯
  method: 'card',
})

// JavaScript ç‰ˆæœ¬ï¼šå¯èƒ½å¯¼è‡´æ”¯ä»˜å¤±è´¥
```

:::

## 4. ğŸ¤” TypeScript çš„ä¸»è¦åŠ£åŠ¿æ˜¯ä»€ä¹ˆï¼Ÿ

### 4.1. ä¸»è¦åŠ£åŠ¿

| åŠ£åŠ¿         | å…·ä½“è¡¨ç°                 | å½±å“            |
| ------------ | ------------------------ | --------------- |
| å­¦ä¹ æ›²çº¿     | ç±»å‹ç³»ç»Ÿã€æ³›å‹ã€é«˜çº§ç±»å‹ | æ–°æ‰‹ä¸Šæ‰‹æ…¢      |
| ç¼–è¯‘å¼€é”€     | éœ€è¦ç¼–è¯‘æ­¥éª¤             | å¢åŠ æ„å»ºæ—¶é—´    |
| ç±»å‹å¤æ‚åº¦   | å¤æ‚ç±»å‹éš¾ä»¥ç†è§£å’Œç»´æŠ¤   | ä»£ç å¯è¯»æ€§ä¸‹é™  |
| ç¬¬ä¸‰æ–¹åº“æ”¯æŒ | éƒ¨åˆ†åº“ç¼ºå°‘ç±»å‹å£°æ˜       | éœ€è¦æ‰‹åŠ¨ç¼–å†™    |
| é…ç½®å¤æ‚     | tsconfig.json é€‰é¡¹ä¼—å¤š   | åˆæœŸé…ç½®å›°éš¾    |
| å‡é˜³æ€§é”™è¯¯   | ç±»å‹ç³»ç»Ÿå¹¶éå®Œç¾         | éœ€è¦ any æˆ–æ–­è¨€ |

- åŠ£åŠ¿ 1ï¼šå­¦ä¹ æ›²çº¿é™¡å³­
- åŠ£åŠ¿ 2ï¼šç¼–è¯‘å¼€é”€
- åŠ£åŠ¿ 3ï¼šç±»å‹"ä½“æ“"éš¾ä»¥ç»´æŠ¤
- åŠ£åŠ¿ 4ï¼šç¬¬ä¸‰æ–¹åº“ç±»å‹ç¼ºå¤±
- åŠ£åŠ¿ 5ï¼šç±»å‹æ–­è¨€æ»¥ç”¨

::: code-group

```ts [1]
// ç®€å•åœºæ™¯
function add(a: number, b: number): number {
  return a + b
}
// â†‘ æ–°æ‰‹å‹å¥½

// å¤æ‚åœºæ™¯
type DeepPartial<T> = T extends object
  ? { [P in keyof T]?: DeepPartial<T[P]> }
  : T
// â†‘ éœ€è¦ç†è§£ï¼šæ³›å‹ã€æ¡ä»¶ç±»å‹ã€æ˜ å°„ç±»å‹ã€é€’å½’

// æŒ‘æˆ˜ï¼šä»ç®€å•åˆ°å¤æ‚çš„è·¨åº¦å¾ˆå¤§
```

```ts [2]
// JavaScriptï¼šç›´æ¥è¿è¡Œ
node index.js

// TypeScriptï¼šéœ€è¦ç¼–è¯‘
tsc index.ts      # ç¼–è¯‘
node index.js     # è¿è¡Œ

// å¤§å‹é¡¹ç›®ï¼šç¼–è¯‘å¯èƒ½éœ€è¦æ•°åˆ†é’Ÿ
// è§£å†³æ–¹æ¡ˆï¼šå¢é‡ç¼–è¯‘ã€å¹¶è¡Œç¼–è¯‘ã€esbuild ç­‰å·¥å…·
```

```ts [3]
// åœºæ™¯ï¼šæå–å‡½æ•°å‚æ•°ç±»å‹
type GetParameters<T> = T extends (...args: infer P) => any ? P : never
type GetReturnType<T> = T extends (...args: any[]) => infer R ? R : never

// é—®é¢˜ï¼š
// 1. æ–°æˆå‘˜éš¾ä»¥ç†è§£
// 2. ä¿®æ”¹é£é™©é«˜
// 3. é”™è¯¯ä¿¡æ¯éš¾æ‡‚

// ç¤ºä¾‹é”™è¯¯ï¼š
// Type instantiation is excessively deep and possibly infinite.(2589)
```

```ts [4]
// åœºæ™¯ï¼šä½¿ç”¨å°ä¼—åº“
import awesomeLib from 'awesome-lib'

// âŒ é”™è¯¯ï¼šæ‰¾ä¸åˆ°æ¨¡å— 'awesome-lib' çš„å£°æ˜æ–‡ä»¶
awesomeLib.doSomething()

// è§£å†³æ–¹æ¡ˆ 1ï¼šå£°æ˜ä¸º anyï¼ˆå¤±å»ç±»å‹æ£€æŸ¥ï¼‰
declare module 'awesome-lib'

// è§£å†³æ–¹æ¡ˆ 2ï¼šæ‰‹åŠ¨ç¼–å†™ç±»å‹ï¼ˆè€—æ—¶ï¼‰
declare module 'awesome-lib' {
  export function doSomething(x: number): string
}
```

```ts [5]
// åœºæ™¯ï¼šç±»å‹ç³»ç»Ÿæ— æ³•æ¨æ–­
const data = JSON.parse(response) // ç±»å‹ï¼šany

// âš ï¸ å±é™©ï¼šè¿‡åº¦ä¾èµ–æ–­è¨€
const user = data as User // è¿è¡Œæ—¶å¯èƒ½å‡ºé”™

// âš ï¸ æ›´å±é™©ï¼šåŒé‡æ–­è¨€
const num = 'string' as unknown as number // å®Œå…¨å¤±å»ç±»å‹ä¿æŠ¤

// æ­£ç¡®åšæ³•ï¼šè¿è¡Œæ—¶éªŒè¯ + ç±»å‹å®ˆå«
function isUser(obj: any): obj is User {
  return typeof obj.id === 'number' && typeof obj.name === 'string'
}
```

:::

### 4.2. çœŸå®ç—›ç‚¹

- ç—›ç‚¹ 1ï¼šé”™è¯¯ä¿¡æ¯éš¾æ‡‚
- ç—›ç‚¹ 2ï¼šç¼–è¯‘é€Ÿåº¦

::: code-group

```ts [1]
type Result = Promise<Array<{ id: number; name: string }>>

// é”™è¯¯ä¿¡æ¯ï¼š
// Type 'Promise<{ id: number; name: string; }[]>' is not assignable to type 'Promise<{ id: number; name: string; age: number; }[]>'.
//   Type '{ id: number; name: string; }[]' is not assignable to type '{ id: number; name: string; age: number; }[]'.
//     Type '{ id: number; name: string; }' is not assignable to type '{ id: number; name: string; age: number; }'.
//       Property 'age' is missing in type '{ id: number; name: string; }' but required in type '{ id: number; name: string; age: number; }'.

// æ–°æ‰‹ï¼šğŸ¤¯ çœ‹ä¸æ‡‚ï¼
```

```bash [2]
# å¤§å‹é¡¹ç›®ï¼ˆ10 ä¸‡è¡Œä»£ç ï¼‰
tsc --build  # åˆæ¬¡ç¼–è¯‘ï¼š2-5 åˆ†é’Ÿ
tsc --build  # å¢é‡ç¼–è¯‘ï¼š10-30 ç§’

# JavaScript é¡¹ç›®ï¼š0 ç§’
```

:::

## 5. ğŸ¤” TypeScript é€‚åˆå“ªäº›åœºæ™¯ï¼Ÿ

| åœºæ™¯          | åŸå›                  | ç¤ºä¾‹é¡¹ç›®        |
| ------------- | -------------------- | --------------- |
| å¤§å‹åº”ç”¨      | å¤šäººåä½œéœ€è¦ç±»å‹çº¦æŸ | ä¼ä¸šçº§åå°ç³»ç»Ÿ  |
| é•¿æœŸç»´æŠ¤      | é‡æ„é¢‘ç¹éœ€è¦å·¥å…·æ”¯æŒ | å¼€æºåº“ã€æ¡†æ¶    |
| å›¢é˜Ÿåä½œ      | æ¥å£å®šä¹‰å‡å°‘æ²Ÿé€šæˆæœ¬ | è·¨éƒ¨é—¨é¡¹ç›®      |
| å¤æ‚ä¸šåŠ¡é€»è¾‘  | ç±»å‹æ£€æŸ¥é¿å…ä½çº§é”™è¯¯ | é‡‘èã€åŒ»ç–—ç³»ç»Ÿ  |
| å…¬å…± API/åº“   | ç±»å‹å£°æ˜å³æ–‡æ¡£       | npm åŒ…          |
| éœ€è¦ IDE æ”¯æŒ | æå‡å¼€å‘æ•ˆç‡         | VSCode æ’ä»¶å¼€å‘ |

```
é¡¹ç›®è§„æ¨¡         æ¨èåº¦
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
< 1000 è¡Œ        â­â­ â˜† â˜† â˜†
1000-5000 è¡Œ     â­â­â­ â˜† â˜†
5000-20000 è¡Œ    â­â­â­â­ â˜†
> 20000 è¡Œ       â­â­â­â­â­

å›¢é˜Ÿè§„æ¨¡
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
1 äºº             â­â­ â˜† â˜† â˜†
2-5 äºº           â­â­â­â­ â˜†
> 5 äºº           â­â­â­â­â­

é¡¹ç›®å‘¨æœŸ
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
< 1 ä¸ªæœˆ         â­â­ â˜† â˜† â˜†
1-6 ä¸ªæœˆ         â­â­â­ â˜† â˜†
> 6 ä¸ªæœˆ         â­â­â­â­â­
```

## 6. ğŸ¤” TypeScript ä¸é€‚åˆå“ªäº›åœºæ™¯ï¼Ÿ

| åœºæ™¯         | åŸå›                  | æ›¿ä»£æ–¹æ¡ˆ           |
| ------------ | -------------------- | ------------------ |
| å¿«é€ŸåŸå‹     | ç±»å‹å®šä¹‰æ‹–æ…¢å¼€å‘é€Ÿåº¦ | JavaScript + JSDoc |
| ä¸€æ¬¡æ€§è„šæœ¬   | ç¼–è¯‘æ­¥éª¤ä¸å¿…è¦       | Node.js ç›´æ¥è¿è¡Œ   |
| å­¦ä¹ ç¼–ç¨‹     | å¢åŠ å­¦ä¹ è´Ÿæ‹…         | å…ˆå­¦ JavaScript    |
| å°å‹å·¥å…·     | æ”¶ç›Šä¸è¶³ä»¥æŠµæ¶ˆæˆæœ¬   | JavaScript         |
| æ€§èƒ½æ•æ„Ÿåœºæ™¯ | ç¼–è¯‘å¼€é”€å½±å“è¿­ä»£é€Ÿåº¦ | ç›´æ¥å†™ JavaScript  |

```ts
// âŒ åœºæ™¯ 1ï¼šä¸€æ¬¡æ€§æ•°æ®å¤„ç†è„šæœ¬
// process-data.ts (50 è¡Œä»£ç )
// é—®é¢˜ï¼šéœ€è¦é…ç½® tsconfig.jsonã€å®‰è£…ä¾èµ–ã€ç¼–è¯‘ï¼Œåªä¸ºè¿è¡Œä¸€æ¬¡

// âœ… æ”¹ç”¨ JavaScript
// process-data.js
// ç›´æ¥ node process-data.js è¿è¡Œ

// âŒ åœºæ™¯ 2ï¼šå¿«é€ŸéªŒè¯æƒ³æ³•
// prototype.ts (100 è¡Œ)
// é—®é¢˜ï¼šèŠ±æ—¶é—´å†™ç±»å‹ï¼Œç»“æœæ•´ä¸ªæ–¹æ¡ˆè¢«æ¨ç¿»

// âœ… æ”¹ç”¨ JavaScript + åæœŸè¿ç§»
// prototype.js â†’ prototype.ts (éœ€è¦æ—¶å†è½¬æ¢)
```

## 7. ğŸ¤” TypeScript vs JavaScriptï¼šå¦‚ä½•é€‰æ‹©ï¼Ÿ

### 7.1. å†³ç­–æ ‘

```mermaid
graph TD
    A[å¼€å§‹] --> B{é¡¹ç›®è§„æ¨¡ > 5000 è¡Œ?}
    B -->|æ˜¯| C{å›¢é˜Ÿ > 2 äºº?}
    B -->|å¦| D{éœ€è¦é•¿æœŸç»´æŠ¤?}
    C -->|æ˜¯| E[âœ… ä½¿ç”¨ TypeScript]
    C -->|å¦| D
    D -->|æ˜¯| E
    D -->|å¦| F{éœ€è¦å‘å¸ƒä¸ºåº“?}
    F -->|æ˜¯| E
    F -->|å¦| G[ä½¿ç”¨ JavaScript]
```

### 7.2. å¯¹æ¯”çŸ©é˜µ

| ç»´åº¦     | TypeScript     | JavaScript |
| -------- | -------------- | ---------- |
| å¼€å‘é€Ÿåº¦ | åˆæœŸæ…¢ï¼ŒåæœŸå¿« | å§‹ç»ˆå¿«     |
| ç»´æŠ¤æˆæœ¬ | ä½             | é«˜         |
| å­¦ä¹ æˆæœ¬ | é«˜             | ä½         |
| é‡æ„éš¾åº¦ | ä½             | é«˜         |
| é”™è¯¯æ£€æµ‹ | ç¼–è¯‘æœŸ         | è¿è¡Œæ—¶     |
| çµæ´»æ€§   | å—ç±»å‹çº¦æŸ     | å®Œå…¨è‡ªç”±   |

### 7.3. å®ç”¨å»ºè®®

::: code-group

```txt [é€‰æ‹© TypeScript]
âœ… ä¼ä¸šçº§åº”ç”¨
âœ… å¼€æºåº“/æ¡†æ¶
âœ… å¤æ‚ä¸šåŠ¡é€»è¾‘
âœ… å¤šäººå›¢é˜Ÿåä½œ
âœ… é•¿æœŸç»´æŠ¤é¡¹ç›®
âœ… éœ€è¦å‘å¸ƒ npm åŒ…
```

```txt [é€‰æ‹© JavaScript]
âœ… ä¸ªäººé¡¹ç›®
âœ… å¿«é€ŸåŸå‹
âœ… ä¸€æ¬¡æ€§è„šæœ¬
âœ… å­¦ä¹ é˜¶æ®µ
âœ… å°å·¥å…·ï¼ˆ< 500 è¡Œï¼‰
âœ… æ€§èƒ½ä¼˜å…ˆï¼ˆæ¸¸æˆç­‰ï¼‰
```

```txt [æŠ˜ä¸­æ–¹æ¡ˆ]
âœ… JavaScript + JSDoc
   - ä¿ç•™çµæ´»æ€§
   - è·å¾—åŸºç¡€ç±»å‹æ£€æŸ¥
   - æ— éœ€ç¼–è¯‘æ­¥éª¤

âœ… æ¸è¿›å¼è¿ç§»
   - ä» JS å¼€å§‹
   - å…³é”®æ¨¡å—å…ˆè¿ç§»
   - é€æ­¥æ‰©å¤§èŒƒå›´
```

:::

## 8. ğŸ¤” å¸¸è§è¯¯è§£æœ‰å“ªäº›ï¼Ÿ

| è¯¯è§£                           | äº‹å®                                     |
| ------------------------------ | ---------------------------------------- |
| âŒ "TS ä¼šè®©ä»£ç è¿è¡Œæ›´å¿«"       | âœ… TS åªå½±å“å¼€å‘ä½“éªŒï¼Œç¼–è¯‘åæ˜¯æ™®é€š JS    |
| âŒ "TS èƒ½ 100% é¿å…è¿è¡Œæ—¶é”™è¯¯" | âœ… TS åªæ£€æŸ¥ç±»å‹é”™è¯¯ï¼Œé€»è¾‘é”™è¯¯æ— æ³•é¿å…   |
| âŒ "å¿…é¡»ç»™æ‰€æœ‰å˜é‡æ ‡æ³¨ç±»å‹"    | âœ… TS æœ‰å¼ºå¤§çš„ç±»å‹æ¨æ–­ï¼Œå¤§å¤šæ•°æ—¶å€™ä¸éœ€è¦ |
| âŒ "TS ä¸é€‚åˆå°é¡¹ç›®"           | âœ… å–å†³äºé¡¹ç›®ç‰¹ç‚¹ï¼Œä¸å®Œå…¨ç”±è§„æ¨¡å†³å®š      |
| âŒ "å­¦ TS å¿…é¡»ç²¾é€šç±»å‹ä½“æ“"    | âœ… æ—¥å¸¸å¼€å‘åªéœ€æŒæ¡åŸºç¡€ç±»å‹å³å¯          |
| âŒ "any æ˜¯ä¸‡èƒ½çš„"              | âœ… æ»¥ç”¨ any å¤±å»ç±»å‹æ£€æŸ¥ï¼Œåº”è¯¥å°½é‡é¿å…   |

- è¯¯è§£ 1ï¼šæ€§èƒ½æå‡
- è¯¯è§£ 2ï¼šç±»å‹æ ‡æ³¨å¿…éœ€
- è¯¯è§£ 3ï¼š100% å®‰å…¨

::: code-group

```ts [1]
// âŒ è¯¯è§£ï¼šTypeScript ä»£ç è¿è¡Œæ›´å¿«
const sum = (a: number, b: number): number => a + b

// âœ… äº‹å®ï¼šç¼–è¯‘åè¿˜æ˜¯ JavaScript
const sum = (a, b) => a + b

// æ€§èƒ½å®Œå…¨ç›¸åŒï¼ŒTS åªæä¾›å¼€å‘æœŸç±»å‹æ£€æŸ¥
```

```ts [2]
// âŒ è¿‡åº¦æ ‡æ³¨
const num: number = 123
const str: string = 'hello'
const arr: number[] = [1, 2, 3]

// âœ… è®© TS æ¨æ–­
const num = 123 // æ¨æ–­ä¸º number
const str = 'hello' // æ¨æ–­ä¸º string
const arr = [1, 2, 3] // æ¨æ–­ä¸º number[]

// åªåœ¨å¿…è¦æ—¶æ ‡æ³¨ï¼ˆå¦‚å‡½æ•°å‚æ•°ã€è¿”å›å€¼ï¼‰
```

```ts [3]
// TS èƒ½æ£€æµ‹
function divide(a: number, b: number) {
  return a / b
}

divide(10, 0) // âœ… ç¼–è¯‘é€šè¿‡ï¼Œä½†è¿”å› Infinity

// TS ä¸èƒ½æ£€æµ‹
function getUser(id: number) {
  // ç½‘ç»œè¯·æ±‚å¤±è´¥
  // æ•°æ®åº“è¿æ¥æ–­å¼€
  // è¿”å›æ•°æ®æ ¼å¼é”™è¯¯
  // â†‘ è¿™äº›å¸¸è§çš„è¿è¡Œæ—¶é”™è¯¯ TS æ— æ³•é¢„é˜²
}
```

:::

## 9. ğŸ”— å¼•ç”¨

- [TypeScript å®˜ç½‘][1]
- [TypeScript Deep Dive][2]
- [State of JS Survey - TypeScript][3]

[1]: https://www.typescriptlang.org/
[2]: https://basarat.gitbook.io/typescript/
[3]: https://stateofjs.com/
