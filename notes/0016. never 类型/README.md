# [0016. never ç±»å‹](https://github.com/tnotesjs/TNotes.typescript/tree/main/notes/0016.%20never%20%E7%B1%BB%E5%9E%8B)

<!-- region:toc -->

- [1. ğŸ¯ æœ¬èŠ‚å†…å®¹](#1--æœ¬èŠ‚å†…å®¹)
- [2. ğŸ«§ è¯„ä»·](#2--è¯„ä»·)
- [3. ğŸ¤” never ç±»å‹æ˜¯ä»€ä¹ˆï¼Ÿ](#3--never-ç±»å‹æ˜¯ä»€ä¹ˆ)
- [4. ğŸ¤” never ç±»å‹çš„å¯èµ‹å€¼æ€§æ˜¯ï¼Ÿ](#4--never-ç±»å‹çš„å¯èµ‹å€¼æ€§æ˜¯)
- [5. ğŸ¤” never ç±»å‹å¯ä»¥èµ‹å€¼ç»™å…¶å®ƒæ‰€æœ‰ç±»å‹å—ï¼Ÿ](#5--never-ç±»å‹å¯ä»¥èµ‹å€¼ç»™å…¶å®ƒæ‰€æœ‰ç±»å‹å—)
- [6. ğŸ¤” ä¸ºä»€ä¹ˆ never ç±»å‹å¯ä»¥èµ‹å€¼ç»™ä»»æ„å…¶ä»–ç±»å‹å‘¢ï¼Ÿ](#6--ä¸ºä»€ä¹ˆ-never-ç±»å‹å¯ä»¥èµ‹å€¼ç»™ä»»æ„å…¶ä»–ç±»å‹å‘¢)
- [7. ğŸ¤” never ä¸èƒ½è¢«ä»»ä½•ç±»å‹èµ‹å€¼å—ï¼Ÿ](#7--never-ä¸èƒ½è¢«ä»»ä½•ç±»å‹èµ‹å€¼å—)
- [8. ğŸ¤” never ç±»å‹çš„ä½¿ç”¨åœºæ™¯ä¸»è¦æ˜¯ï¼Ÿ](#8--never-ç±»å‹çš„ä½¿ç”¨åœºæ™¯ä¸»è¦æ˜¯)
- [9. ğŸ¤” ç©ºæ•°ç»„åœ¨ä»€ä¹ˆæƒ…å†µä¸‹ä¼šè¢«æ¨æ–­ä¸º `never[]` ç±»å‹ï¼Ÿ](#9--ç©ºæ•°ç»„åœ¨ä»€ä¹ˆæƒ…å†µä¸‹ä¼šè¢«æ¨æ–­ä¸º-never-ç±»å‹)
- [10. ğŸ¤” never ç±»å‹ä¸ void ç±»å‹çš„æœ¬è´¨åŒºåˆ«æ˜¯ä»€ä¹ˆ?](#10--never-ç±»å‹ä¸-void-ç±»å‹çš„æœ¬è´¨åŒºåˆ«æ˜¯ä»€ä¹ˆ)
- [11. ğŸ”— å¼•ç”¨](#11--å¼•ç”¨)

<!-- endregion:toc -->

## 1. ğŸ¯ æœ¬èŠ‚å†…å®¹

- never

## 2. ğŸ«§ è¯„ä»·

- never ç±»å‹ â‰ˆ ç©ºé›† âˆ…

## 3. ğŸ¤” never ç±»å‹æ˜¯ä»€ä¹ˆï¼Ÿ

å®˜æ–¹æè¿°ï¼š

Some functions never return a value:

```ts
function fail(msg: string): never {
  throw new Error(msg)
}
```

The never type represents values which are never observed. In a return type, this means that the function throws an exception or terminates execution of the program.

never also appears when TypeScript determines thereâ€™s nothing left in a union.

```ts
function fn(x: string | number) {
  if (typeof x === 'string') {
    // do something
  } else if (typeof x === 'number') {
    // do something else
  } else {
    x // has type 'never'!
  }
}
```

---

ä¸­æ–‡ç¿»è¯‘ï¼š

æœ‰äº›å‡½æ•°æ°¸è¿œä¸ä¼šè¿”å›å€¼ï¼š

```ts
function fail(msg: string): never {
  throw new Error(msg)
}
```

never ç±»å‹è¡¨ç¤ºæ°¸è¿œæ— æ³•è§‚å¯Ÿåˆ°çš„å€¼ã€‚ä½œä¸ºè¿”å›ç±»å‹æ—¶ï¼Œè¿™æ„å‘³ç€å‡½æ•°ä¼šæŠ›å‡ºå¼‚å¸¸æˆ–ç»ˆæ­¢ç¨‹åºçš„æ‰§è¡Œã€‚

å½“ TypeScript ç¡®å®šè”åˆç±»å‹ä¸­æ²¡æœ‰å‰©ä½™å†…å®¹æ—¶ï¼Œä¹Ÿä¼šå‡ºç° never ç±»å‹ã€‚

```ts
function fn(x: string | number) {
  if (typeof x === 'string') {
    // åšä¸€äº›äº‹æƒ…
  } else if (typeof x === 'number') {
    // åšå…¶ä»–äº‹æƒ…
  } else {
    x // å…·æœ‰ 'never' ç±»å‹ï¼
  }
}
```

---

- ä¸ºäº†ä¿æŒä¸é›†åˆè®ºçš„å¯¹åº”å…³ç³»ï¼Œä»¥åŠç±»å‹è¿ç®—çš„å®Œæ•´æ€§ï¼ŒTypeScript è¿˜å¼•å…¥äº†â€œç©ºç±»å‹â€çš„æ¦‚å¿µï¼Œå³è¯¥ç±»å‹ä¸ºç©ºï¼Œä¸åŒ…å«ä»»ä½•å€¼ã€‚
- ç”±äºä¸å­˜åœ¨ä»»ä½•å±äºâ€œç©ºç±»å‹â€çš„å€¼ï¼Œæ‰€ä»¥è¯¥ç±»å‹è¢«ç§°ä¸º neverï¼Œå³ä¸å¯èƒ½æœ‰è¿™æ ·çš„å€¼ã€‚

```ts
let x: never
let x2: any
let x3: never

x = 1 // âŒ æŠ¥é”™ - ä¸èƒ½å°†ç±»å‹â€œ1â€åˆ†é…ç»™ç±»å‹â€œneverâ€ã€‚ts(2322)
x = x2 // âŒ æŠ¥é”™ - ä¸èƒ½å°†ç±»å‹â€œanyâ€åˆ†é…ç»™ç±»å‹â€œneverâ€ã€‚ts(2322)
x = x3 // âœ… æ­£ç¡®

// å˜é‡ x çš„ç±»å‹æ˜¯ neverï¼Œå°±ä¸å¯èƒ½èµ‹ç»™å®ƒä»»ä½•å€¼ï¼Œå¦åˆ™éƒ½ä¼šæŠ¥é”™ã€‚
// åŒ…æ‹¬ any ç±»å‹ä¹Ÿæ— æ³•èµ‹å€¼ç»™ never ç±»å‹ã€‚
// åªæœ‰ never ç±»å‹å¯ä»¥èµ‹å€¼ç»™ never ç±»å‹ã€‚
```

## 4. ğŸ¤” never ç±»å‹çš„å¯èµ‹å€¼æ€§æ˜¯ï¼Ÿ

- never ç±»å‹å¯ä»¥èµ‹å€¼ç»™å…¶ä»–ä»»ä½•ç±»å‹
- never ç±»å‹ä¸èƒ½è¢«ä»»ä½•ç±»å‹èµ‹å€¼ï¼ˆé™¤äº† never è‡ªèº«ï¼‰

## 5. ğŸ¤” never ç±»å‹å¯ä»¥èµ‹å€¼ç»™å…¶å®ƒæ‰€æœ‰ç±»å‹å—ï¼Ÿ

- æ˜¯çš„
- never ç±»å‹çš„ä¸€ä¸ªé‡è¦ç‰¹ç‚¹æ˜¯ï¼Œå¯ä»¥èµ‹å€¼ç»™ä»»æ„å…¶ä»–ç±»å‹ã€‚

```ts
function f(): never {
  throw new Error('Error')
}

let v1: number = f() // âœ…
let v2: string = f() // âœ…
let v3: boolean = f() // âœ…

// ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œå‡½æ•° f() ä¼šæŠ›å‡ºé”™è¯¯ï¼Œæ‰€ä»¥è¿”å›å€¼ç±»å‹å¯ä»¥å†™æˆ neverï¼Œå³ä¸å¯èƒ½è¿”å›ä»»ä½•å€¼ã€‚
// å„ç§å…¶ä»–ç±»å‹çš„å˜é‡éƒ½å¯ä»¥èµ‹å€¼ä¸º f() çš„è¿è¡Œç»“æœï¼ˆnever ç±»å‹ï¼‰ã€‚

const neverVar = 'never' as unknown as never

const x1: number = neverVar // âœ…
const x2: string = neverVar // âœ…
const x3: boolean = neverVar // âœ…
const x4: symbol = neverVar // âœ…
const x5: undefined = neverVar // âœ…
const x6: null = neverVar // âœ…
const x7: object = neverVar // âœ…
const x8: any = neverVar // âœ…
const x9: never = neverVar // âœ…
// ...
```

## 6. ğŸ¤” ä¸ºä»€ä¹ˆ never ç±»å‹å¯ä»¥èµ‹å€¼ç»™ä»»æ„å…¶ä»–ç±»å‹å‘¢ï¼Ÿ

- è¿™è·Ÿé›†åˆè®ºçš„çŸ¥è¯†æœ‰å…³ -> ç©ºé›†æ˜¯ä»»ä½•é›†åˆçš„å­é›†ã€‚
- TypeScript å°±ç›¸åº”è§„å®šï¼Œä»»ä½•ç±»å‹éƒ½åŒ…å«äº† never ç±»å‹ã€‚
- å› æ­¤ï¼Œnever ç±»å‹æ˜¯ä»»ä½•å…¶ä»–ç±»å‹æ‰€å…±æœ‰çš„ï¼ŒTypeScript æŠŠè¿™ç§æƒ…å†µç§°ä¸ºâ€œåº•å±‚ç±»å‹â€ï¼ˆbottom typeï¼‰ã€‚
- æˆ‘ä»¬å¯ä»¥æŠŠ never è§†ä½œä¸€ä¸ªâ€œä¸å­˜åœ¨â€çš„ç±»å‹ï¼Œå½“ never å‡ºç°åœ¨è”åˆç±»å‹ä¸­æ—¶ï¼Œå®ƒå°±åƒä¸€ä¸ªç©ºé›†åˆï¼Œä¸ä¼šå¯¹è”åˆç±»å‹çš„å…¶ä»–éƒ¨åˆ†äº§ç”Ÿä»»ä½•å½±å“ã€‚

```ts
type UnionWithNever = 123 | 'abc' | true | void | never
// å°†é¼ æ ‡æ‚¬åœåœ¨ UnionWithNever ä¸Šï¼ŒæŸ¥çœ‹ ts æ¨å¯¼å‡ºæ¥çš„ç»“æœï¼š
// type UnionWithNever = true | void | 123 | "abc"
// ä¼šå‘ç° never ç±»å‹ç›´æ¥è¢«æ— è§†äº†

// | never ç±»å‹åœ¨è”åˆç±»å‹ä¸­ä¼šè¢«è‡ªåŠ¨å‰”é™¤
// å› ä¸ºè¿ç®—ç¬¦ | è¡¨ç¤ºæˆ–è€…çš„å«ä¹‰ï¼Œåœ¨é›†åˆçš„è¯­ä¹‰ä¸­ï¼Œè¡¨ç¤ºâ€œå¹¶â€
// å¹¶ä¸Šä¸€ä¸ªç©ºé›†ï¼Œç»“æœä¸å˜
```

## 7. ğŸ¤” never ä¸èƒ½è¢«ä»»ä½•ç±»å‹èµ‹å€¼å—ï¼Ÿ

- ä¸¥æ ¼æ¥è¯´ï¼Œè¿™ä¹ˆè®²æ˜¯é”™è¯¯çš„ï¼
- ã€Œnever ä¸èƒ½è¢«ä»»ä½•ç±»å‹èµ‹å€¼ã€ç½‘ä¸Šå¾ˆå¤šæ–‡ç« ä¸­éƒ½ä¼šç›´æ¥è¿™ä¹ˆæè¿°ï¼Œä½†æ˜¯è¿™ä¹ˆè¯´å…¶å®ä¸æ˜¯å¾ˆå‡†ç¡®ï¼Œæ­£ç¡®çš„è¯´æ³•åº”è¯¥æ˜¯ï¼šã€Œnever ä¸èƒ½è¢«é™¤äº† never è‡ªèº«ä¹‹å¤–çš„ä»»ä½•ç±»å‹èµ‹å€¼ã€ã€‚
- è¯„ä»·ï¼šæ²¡å¿…è¦æ­»æ‰£è¿™ä¸€ç‚¹ç»†èŠ‚ã€‚å“ªæ€•å¾ˆå¤šæ—¶å€™æˆ‘ä»¬è¿˜æ˜¯ä¼šåœ¨ä¸€äº›æ–‡ç« ä¸­çœ‹åˆ°â€œnever ä¸èƒ½æ¥å—ä»»æ„ç±»å‹â€è¿™æ ·çš„æè¿°ï¼Œå½“è§åˆ°ç±»ä¼¼çš„è¯´æ³•æ—¶ï¼Œèƒ½å¤Ÿ get åˆ°è¦ç‚¹å³å¯ã€‚ä»¥å…è¢«ä¸€äº›â€œé”™è¯¯æè¿°â€è¯¯å¯¼ï¼Œè¿™é‡Œåˆ»æ„è®°å½•ä¸€ä¸‹ã€‚

## 8. ğŸ¤” never ç±»å‹çš„ä½¿ç”¨åœºæ™¯ä¸»è¦æ˜¯ï¼Ÿ

::: code-group

```ts [1]
// ä¸å¯èƒ½è¿”å›çš„å‡½æ•°ï¼ˆå¦‚æŠ›å‡ºå¼‚å¸¸æˆ–æ— é™å¾ªç¯ï¼‰
function throwError(message: string): never {
  throw new Error(message)
}

function infiniteLoop(): never {
  while (true) {
    // ...
  }
}
```

```ts [2]
// åœ¨ç±»å‹è¿ç®—ä¸­æ’é™¤æŸäº›ç±»å‹ï¼ˆä¿è¯å®Œæ•´æ€§ï¼‰
// å®šä¹‰ä¸€ä¸ªæ¡ä»¶ç±»å‹ NonNullableï¼Œç”¨äºä»ç±»å‹ T ä¸­æ’é™¤ null å’Œ undefined ç±»å‹
// å¦‚æœ T æ˜¯ null æˆ– undefined çš„è”åˆç±»å‹ï¼Œåˆ™è¿”å› neverï¼ˆè¡¨ç¤ºä¸å¯èƒ½çš„ç±»å‹ï¼‰
// å¦åˆ™è¿”å› T æœ¬èº«
type NonNullable<T> = T extends null | undefined ? never : T

// ç¤ºä¾‹ï¼šNonNullable<string | null> ä¼šæ’é™¤ nullï¼Œç»“æœä¸º string
type A = NonNullable<string | null> // string

// ç¤ºä¾‹ï¼šNonNullable<undefined> ä¼šæ’é™¤ undefinedï¼Œç”±äºæ²¡æœ‰å‰©ä½™ç±»å‹ï¼Œç»“æœä¸º never
type B = NonNullable<undefined> // never
```

```ts [3]
// ç”¨äºç©·å°½æ€§æ£€æŸ¥ï¼ˆexhaustive checkï¼‰
type Color = 'red' | 'green' | 'blue'

function handleColor(color: Color): string {
  switch (color) {
    case 'red':
      return 'ğŸ”´'
    case 'green':
      return 'ğŸŸ¢'
    case 'blue':
      return 'ğŸ”µ'
    default: {
      // å¦‚æœ Color æ–°å¢äº†å€¼è€Œè¿™é‡Œæ²¡å¤„ç†ï¼Œä¼šæŠ¥é”™
      const _exhaustiveCheck: never = color
      return _exhaustiveCheck
    }
  }
}

function fn(x: string | number) {
  if (typeof x === 'string') {
    x // x: string;
    // åœ¨æ­¤åŒºå—ä¸­è®¿é—®æ—¶ï¼ŒTS çŸ¥é“ x æ˜¯ string ç±»å‹ã€‚
    // ...
  } else if (typeof x === 'number') {
    x // x: number;
    // åœ¨æ­¤åŒºå—ä¸­è®¿é—®æ—¶ï¼ŒTS çŸ¥é“ x æ˜¯ number ç±»å‹ã€‚
    // ...
  } else {
    x // x: never;
    // æ’é™¤æ‰€æœ‰å¯èƒ½çš„ç±»å‹åï¼Œx åªèƒ½æ˜¯ never ç±»å‹ã€‚
  }
}
// å‚æ•°å˜é‡ x å¯èƒ½æ˜¯å­—ç¬¦ä¸²ï¼Œä¹Ÿå¯èƒ½æ˜¯æ•°å€¼ï¼Œåˆ¤æ–­äº†è¿™ä¸¤ç§æƒ…å†µåï¼Œ
// å‰©ä¸‹çš„æœ€åé‚£ä¸ª else åˆ†æ”¯é‡Œé¢ï¼Œx å°±æ˜¯ never ç±»å‹äº†ã€‚

// ç”±äº TS å¼ºå¤§çš„ç±»å‹åˆ†æèƒ½åŠ›ï¼Œæ¯ç»è¿‡ä¸€ä¸ª if è¯­å¥å¤„ç†ï¼Œx çš„ç±»å‹åˆ†æ”¯å°±ä¼šå‡å°‘ä¸€ä¸ªã€‚
// åœ¨æœ€åçš„ else ä»£ç å—ä¸­ï¼Œå®ƒçš„ç±»å‹åªå‰©ä¸‹äº† never ç±»å‹ï¼Œå³ä¸€ä¸ªæ— æ³•å†ç»†åˆ†ã€æœ¬è´¨ä¸Šå¹¶ä¸å­˜åœ¨çš„è™šç©ºç±»å‹ã€‚

// å¦‚æœä¸€ä¸ªå˜é‡å¯èƒ½æœ‰å¤šç§ç±»å‹ï¼ˆå³è”åˆç±»å‹ï¼‰ï¼Œé€šå¸¸éœ€è¦ä½¿ç”¨åˆ†æ”¯å¤„ç†æ¯ä¸€ç§ç±»å‹ã€‚
// è¿™æ—¶ï¼Œå¤„ç†æ‰€æœ‰å¯èƒ½çš„ç±»å‹ä¹‹åï¼Œå‰©ä½™çš„æƒ…å†µå°±å±äº never ç±»å‹ã€‚
```

:::

- ã€1ã€‘åœ¨ä¸å¯èƒ½è¿”å›å€¼çš„å‡½æ•°ï¼Œè¿”å›å€¼çš„ç±»å‹å°±å¯ä»¥å†™æˆ never
- ã€2ã€‘åœ¨ä¸€äº›ç±»å‹è¿ç®—ä¹‹ä¸­ï¼Œä½¿ç”¨ never ä¿è¯ç±»å‹è¿ç®—çš„å®Œæ•´æ€§
- ã€3ã€‘ç”¨äºç©·å°½æ€§æ£€æŸ¥ï¼ˆexhaustive checkï¼‰

## 9. ğŸ¤” ç©ºæ•°ç»„åœ¨ä»€ä¹ˆæƒ…å†µä¸‹ä¼šè¢«æ¨æ–­ä¸º `never[]` ç±»å‹ï¼Ÿ

```ts
const arr = []
// const arr: never[]
// æˆ–è€… const arr: any[]
// å…·ä½“çœ‹ TS é…ç½®

// æœªæ ‡æ˜ç±»å‹çš„æ•°ç»„ï¼Œå¯èƒ½ä¼šè¢«æ¨æ–­ä¸º never ç±»å‹ã€‚
// å‰æï¼šå¼€å¯ strictNullChecks é…ç½®ï¼ŒåŒæ—¶ç¦ç”¨ noImplicitAny é…ç½®
// tsconfig.json
// {
//   "compilerOptions": {
//     "strictNullChecks": true,
//     "noImplicitAny": false
//   }
// }
```

## 10. ğŸ¤” never ç±»å‹ä¸ void ç±»å‹çš„æœ¬è´¨åŒºåˆ«æ˜¯ä»€ä¹ˆ?

æ ¸å¿ƒåŒºåˆ«ï¼š

- `void`
  - => æœ‰è¿”å›ç‚¹ï¼Œä½†æ²¡æœ‰è¿”å›å€¼
  - => æˆ‘æ‰§è¡Œå®Œäº†ï¼Œä½†æˆ‘ä¸è¿”å›ä»»ä½•æœ‰æ„ä¹‰çš„å€¼
- `never`
  - => æ°¸è¿œä¸ä¼šæœ‰è¿”å›ç‚¹
  - => æˆ‘æ°¸è¿œä¸ä¼šæ‰§è¡Œå®Œï¼Œå› ä¸ºæˆ‘ä¼šæŠ›é”™æˆ–æ— é™å¾ªç¯

```ts
// void - å‡½æ•°æ­£å¸¸ç»“æŸ,åªæ˜¯æ²¡æœ‰è¿”å›å€¼
function logMessage(msg: string): void {
  console.log(msg)
  // å‡½æ•°æ‰§è¡Œåˆ°è¿™é‡Œå°±ç»“æŸäº†,ä¼šè¿”å›åˆ°è°ƒç”¨ç‚¹
}

// never - å‡½æ•°æ°¸è¿œä¸ä¼šæ­£å¸¸ç»“æŸ
function throwError(msg: string): never {
  throw new Error(msg)
  // æ‰§è¡Œåˆ°è¿™é‡Œå°±æŠ›å‡ºå¼‚å¸¸,æ°¸è¿œä¸ä¼šè¿”å›åˆ°è°ƒç”¨ç‚¹
}

function infiniteLoop(): never {
  while (true) {
    // æ— é™å¾ªç¯,æ°¸è¿œä¸ä¼šè¿”å›
  }
}
```

| ç‰¹æ€§     | void                     | never                         |
| -------- | ------------------------ | ----------------------------- |
| å«ä¹‰     | å‡½æ•°æ‰§è¡Œå®Œæ¯•ï¼Œä½†ä¸è¿”å›å€¼ | å‡½æ•°æ°¸è¿œä¸ä¼šæ‰§è¡Œå®Œæ¯•          |
| å¯èµ‹å€¼æ€§ | å¯ä»¥è¢«èµ‹å€¼ `undefined`   | ä¸èƒ½è¢«ä»»ä½•ç±»å‹èµ‹å€¼(é™¤äº†è‡ªèº«)  |
| å‡½æ•°æ‰§è¡Œ | å‡½æ•°ä¼šæ­£å¸¸ç»“æŸ           | å‡½æ•°æ°¸è¿œä¸ä¼šç»“æŸ(æŠ›é”™/æ­»å¾ªç¯) |
| ç±»å‹å±‚çº§ | æ™®é€šç±»å‹                 | åº•å±‚ç±»å‹(bottom type)         |

::: code-group

```ts [1]
// void ç±»å‹å¯ä»¥æ¥å— undefined
let voidVar: void
voidVar = undefined // âœ… æ­£ç¡®
voidVar = null // âœ… æ­£ç¡®(strictNullChecks: false æ—¶)
// voidVar = 123 // âŒ é”™è¯¯

// never ç±»å‹ä¸èƒ½æ¥å—ä»»ä½•å€¼(é™¤äº† never è‡ªèº«)
let neverVar: never
// neverVar = undefined // âŒ é”™è¯¯
// neverVar = null // âŒ é”™è¯¯
// neverVar = 123 // âŒ é”™è¯¯
```

```ts [2]
// void å‡½æ•°å¯ä»¥è¢«æ­£å¸¸è°ƒç”¨å’Œç­‰å¾…
function voidFunc(): void {
  console.log('done')
}
voidFunc() // å‡½æ•°ä¼šæ‰§è¡Œå®Œæ¯•å¹¶è¿”å›
console.log('ç»§ç»­æ‰§è¡Œ') // âœ… è¿™è¡Œä»£ç ä¼šæ‰§è¡Œ

// never å‡½æ•°è°ƒç”¨åä¸ä¼šè¿”å›
function neverFunc(): never {
  throw new Error('error')
}
neverFunc() // æŠ›å‡ºå¼‚å¸¸,ä¸‹é¢çš„ä»£ç ä¸ä¼šæ‰§è¡Œ
console.log('ç»§ç»­æ‰§è¡Œ') // âŒ è¿™è¡Œä»£ç æ°¸è¿œä¸ä¼šæ‰§è¡Œåˆ°
```

```ts [3]
// void å¯ä»¥ä½œä¸ºè”åˆç±»å‹çš„ä¸€éƒ¨åˆ†
type Result1 = string | void
// type Result1 = string | void

// never åœ¨è”åˆç±»å‹ä¸­ä¼šè¢«å¿½ç•¥
type Result2 = string | never
// type Result2 = string
```

```ts [4]
// void - ç”¨äºæ— è¿”å›å€¼çš„æ™®é€šå‡½æ•°
function saveData(data: string): void {
  localStorage.setItem('key', data)
  // å‡½æ•°æ­£å¸¸ç»“æŸ
}

// never - ç”¨äºæ°¸è¿œä¸ä¼šæ­£å¸¸è¿”å›çš„å‡½æ•°
function assertNever(value: never): never {
  throw new Error(`Unexpected value: ${value}`)
  // ç”¨äºç©·å°½æ€§æ£€æŸ¥
}
```

:::

- ã€1ã€‘èµ‹å€¼è¡Œä¸ºå¯¹æ¯”
- ã€2ã€‘å‡½æ•°è¿”å›å€¼çš„å®é™…å·®å¼‚
- ã€3ã€‘ç±»å‹æ¨æ–­ä¸­çš„è¡¨ç°
- ã€4ã€‘å®é™…åº”ç”¨åœºæ™¯å¯¹æ¯”

## 11. ğŸ”— å¼•ç”¨

- [never][1]

[1]: https://www.typescriptlang.org/docs/handbook/2/functions.html#never
